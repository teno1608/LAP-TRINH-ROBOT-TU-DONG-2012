CCS PCH C Compiler, Version 4.114, 93460303               10-Jan-14 17:42

               Filename: E:\ROBOCON2014\LAP TRINH robocon 2014\LAP TRINH ROBOT TU DONG\thurobotd9-1\thutd10-1.lst

               ROM used: 4156 bytes (25%)
                         Largest free fragment is 12224
               RAM used: 58 (8%) at main() level
                         102 (13%) worst case
               Stack:    7 worst case (6 in main + 1 for interrupts)

*
0000:  GOTO   0AE8
*
0008:  MOVWF  04
000A:  MOVFF  FD8,05
000E:  MOVFF  FE0,06
0012:  MOVLB  0
0014:  MOVFF  FE9,0C
0018:  MOVFF  FEA,07
001C:  MOVFF  FE1,08
0020:  MOVFF  FE2,09
0024:  MOVFF  FD9,0A
0028:  MOVFF  FDA,0B
002C:  MOVFF  FF3,12
0030:  MOVFF  FF4,13
0034:  MOVFF  FFA,14
0038:  MOVFF  FF5,15
003C:  MOVFF  FF6,16
0040:  MOVFF  FF7,17
0044:  MOVFF  00,0E
0048:  MOVFF  01,0F
004C:  MOVFF  02,10
0050:  MOVFF  03,11
0054:  BTFSS  FF0.3
0056:  GOTO   0060
005A:  BTFSC  FF0.0
005C:  GOTO   00CE
0060:  BTFSS  FF0.4
0062:  GOTO   006C
0066:  BTFSC  FF0.1
0068:  GOTO   00E8
006C:  MOVFF  0E,00
0070:  MOVFF  0F,01
0074:  MOVFF  10,02
0078:  MOVFF  11,03
007C:  MOVFF  0C,FE9
0080:  MOVFF  07,FEA
0084:  BSF    07.7
0086:  MOVFF  08,FE1
008A:  MOVFF  09,FE2
008E:  MOVFF  0A,FD9
0092:  MOVFF  0B,FDA
0096:  MOVFF  12,FF3
009A:  MOVFF  13,FF4
009E:  MOVFF  14,FFA
00A2:  MOVFF  15,FF5
00A6:  MOVFF  16,FF6
00AA:  MOVFF  17,FF7
00AE:  MOVF   04,W
00B0:  MOVFF  06,FE0
00B4:  MOVFF  05,FD8
00B8:  RETFIE 0
.................... #include <18F4431.h> 
.................... //////// Standard Header file for the PIC18F4431 device //////////////// 
.................... #device PIC18F4431 
.................... #list 
....................  
.................... #include <PIC18F4431_registers.h> 
.................... #byte TOSU = 0xFFF 
.................... #word TOS = 0xFFE 
.................... #byte STKPTR = 0xFFC 
.................... #bit    STKPTR0 = STKPTR.0 
.................... #bit    STKPTR1 = STKPTR.1 
.................... #bit    STKPTR2 = STKPTR.2 
.................... #bit    STKPTR3 = STKPTR.3 
.................... #bit    STKPTR4 = STKPTR.4 
.................... #bit    STKUNF = STKPTR.6 
.................... #bit    STKFUL = STKPTR.7 
.................... #byte PCLATU = 0xFFB 
.................... #byte PCLATH = 0xFFA 
.................... #byte PCL = 0xFF9 
.................... #byte TBLPTRU = 0xFF8 
.................... #bit    TBLPTRU0 = TBLPTRU.0 
.................... #bit    TBLPTRU1 = TBLPTRU.1 
.................... #bit    TBLPTRU2 = TBLPTRU.2 
.................... #bit    TBLPTRU3 = TBLPTRU.3 
.................... #bit    TBLPTRU4 = TBLPTRU.4 
.................... #bit    ACSS = TBLPTRU.5 
.................... #word TBLPTR = 0xFF7 
.................... #byte TABLAT = 0xFF5 
.................... #word PROD = 0xFF4 
.................... #byte INTCON = 0xFF2 
.................... #bit    RBIF = INTCON.0 
.................... #bit    INT0IF = INTCON.1 
.................... #bit    TMR0IF = INTCON.2 
.................... #bit    RBIE = INTCON.3 
.................... #bit    INT0IE = INTCON.4 
.................... #bit    TMR0IE = INTCON.5 
.................... #bit    PEIE_GIEL = INTCON.6 
.................... #bit    GIE_GIEH = INTCON.7 
.................... #byte INTCON2 = 0xFF1 
.................... #bit    RBIP = INTCON2.0 
.................... #bit    TMR0IP = INTCON2.2 
.................... #bit    INTEDG2 = INTCON2.4 
.................... #bit    INTEDG1 = INTCON2.5 
.................... #bit    INTEDG0 = INTCON2.6 
.................... #bit    RBPU = INTCON2.7 
.................... #byte INTCON3 = 0xFF0 
.................... #bit    INT1IF = INTCON3.0 
.................... #bit    INT2IF = INTCON3.1 
.................... #bit    INT1IE = INTCON3.3 
.................... #bit    INT2IE = INTCON3.4 
.................... #bit    INT1IP = INTCON3.6 
.................... #bit    INT2IP = INTCON3.7 
.................... #byte INDF0 = 0xFEF 
.................... #byte POSTINC0 = 0xFEE 
.................... #byte POSTDEC0 = 0xFED 
.................... #byte PREINC0 = 0xFEC 
.................... #byte PLUSW0 = 0xFEB 
.................... #word FSR0 = 0xFEA 
.................... #byte WREG = 0xFE8 
.................... #byte INDF1 = 0xFE7 
.................... #byte POSTINC1 = 0xFE6 
.................... #byte POSTDEC1 = 0xFE5 
.................... #byte PREINC1 = 0xFE4 
.................... #byte PLUSW1 = 0xFE3 
.................... #word FSR1 = 0xFE2 
.................... #byte BSR = 0xFE0 
.................... #byte INDF2 = 0xFDF 
.................... #byte POSTINC2 = 0xFDE 
.................... #byte POSTDEC2 = 0xFDD 
.................... #byte PREINC2 = 0xFDC 
.................... #byte PLUSW2 = 0xFDB 
.................... #word FSR2 = 0xFDA 
.................... #byte STATUS = 0xFD8 
.................... #bit    DC = STATUS.1 
.................... #bit    OV = STATUS.3 
.................... #word TMR0 = 0xFD7 
.................... #byte T0CON = 0xFD5 
.................... #bit    T0PS0 = T0CON.0 
.................... #bit    T0PS1 = T0CON.1 
.................... #bit    T0PS2 = T0CON.2 
.................... #bit    PSA = T0CON.3 
.................... #bit    T0SE = T0CON.4 
.................... #bit    T0CS = T0CON.5 
.................... #bit    T016BIT = T0CON.6 
.................... #bit    TMR0ON = T0CON.7 
.................... #byte OSCCON = 0xFD3 
.................... #bit    SCS0 = OSCCON.0 
.................... #bit    SCS1 = OSCCON.1 
.................... #bit    IOFS = OSCCON.2 
.................... #bit    OSTS = OSCCON.3 
.................... #bit    IRCF0 = OSCCON.4 
.................... #bit    IRCF1 = OSCCON.5 
.................... #bit    IRCF2 = OSCCON.6 
.................... #bit    IDLEN = OSCCON.7 
.................... #byte LVDCON = 0xFD2 
.................... #bit    LVDL0 = LVDCON.0 
.................... #bit    LVDL1 = LVDCON.1 
.................... #bit    LVDL2 = LVDCON.2 
.................... #bit    LVDL3 = LVDCON.3 
.................... #bit    LVDEN = LVDCON.4 
.................... #bit    IRVST = LVDCON.5 
.................... #byte WDTCON = 0xFD1 
.................... #bit    SWDTEN = WDTCON.0 
.................... #bit    WDTW = WDTCON.7 
.................... #byte RCON = 0xFD0 
.................... #bit    BOR = RCON.0 
.................... #bit    POR = RCON.1 
.................... #bit    PD = RCON.2 
.................... #bit    TO = RCON.3 
.................... #bit    RI = RCON.4 
.................... #bit    IPEN = RCON.7 
.................... #word TMR1 = 0xFCF 
.................... #byte T1CON = 0xFCD 
.................... #bit    TMR1ON = T1CON.0 
.................... #bit    TMR1CS = T1CON.1 
.................... #bit    T1SYNC = T1CON.2 
.................... #bit    T1OSCEN = T1CON.3 
.................... #bit    T1CKPS0 = T1CON.4 
.................... #bit    T1CKPS1 = T1CON.5 
.................... #bit    T1RUN = T1CON.6 
.................... #bit    RD16 = T1CON.7 
.................... #byte TMR2 = 0xFCC 
.................... #byte PR2 = 0xFCB 
.................... #byte T2CON = 0xFCA 
.................... #bit    T2CKPS0 = T2CON.0 
.................... #bit    T2CKPS1 = T2CON.1 
.................... #bit    TMR2ON = T2CON.2 
.................... #bit    TOUTPS0 = T2CON.3 
.................... #bit    TOUTPS1 = T2CON.4 
.................... #bit    TOUTPS2 = T2CON.5 
.................... #bit    TOUTPS3 = T2CON.6 
.................... #byte SSPBUF = 0xFC9 
.................... #byte SSPADD = 0xFC8 
.................... #byte SSPSTAT = 0xFC7 
.................... #bit    BF = SSPSTAT.0 
.................... #bit    UA = SSPSTAT.1 
.................... #bit    CKE = SSPSTAT.6 
.................... #bit    SMP = SSPSTAT.7 
.................... #byte SSPCON = 0xFC6 
.................... #bit    SSPM0 = SSPCON.0 
.................... #bit    SSPM1 = SSPCON.1 
.................... #bit    SSPM2 = SSPCON.2 
.................... #bit    SSPM3 = SSPCON.3 
.................... #bit    CKP = SSPCON.4 
.................... #bit    SSPEN = SSPCON.5 
.................... #bit    SSPOV = SSPCON.6 
.................... #bit    WCOL = SSPCON.7 
.................... #word ADRES = 0xFC4 
.................... #byte ADCON0 = 0xFC2 
.................... #bit    ADON = ADCON0.0 
.................... #bit    GO = ADCON0.1 
.................... #bit    ACMOD0 = ADCON0.2 
.................... #bit    ACMOD1 = ADCON0.3 
.................... #bit    ACSCH = ADCON0.4 
.................... #bit    ACONV = ADCON0.5 
.................... #byte ADCON1 = 0xFC1 
.................... #bit    ADPNT0 = ADCON1.0 
.................... #bit    ADPNT1 = ADCON1.1 
.................... #bit    BFOVFL = ADCON1.2 
.................... #bit    BFEMT = ADCON1.3 
.................... #bit    FIFOEN = ADCON1.4 
.................... #bit    VCFG0 = ADCON1.6 
.................... #bit    VCFG1 = ADCON1.7 
.................... #byte ADCON2 = 0xFC0 
.................... #bit    ADCS0 = ADCON2.0 
.................... #bit    ADCS1 = ADCON2.1 
.................... #bit    ADCS2 = ADCON2.2 
.................... #bit    ACQT0 = ADCON2.3 
.................... #bit    ACQT1 = ADCON2.4 
.................... #bit    ACQT2 = ADCON2.5 
.................... #bit    ACQT3 = ADCON2.6 
.................... #bit    ADFM = ADCON2.7 
.................... #word CCPR1 = 0xFBF 
.................... #byte CCP1CON = 0xFBD 
.................... #bit    CCP1M0 = CCP1CON.0 
.................... #bit    CCP1M1 = CCP1CON.1 
.................... #bit    CCP1M2 = CCP1CON.2 
.................... #bit    CCP1M3 = CCP1CON.3 
.................... #bit    DC1B0 = CCP1CON.4 
.................... #bit    DC1B1 = CCP1CON.5 
.................... #word CCPR2 = 0xFBC 
.................... #byte CCP2CON = 0xFBA 
.................... #bit    CCP2M0 = CCP2CON.0 
.................... #bit    CCP2M1 = CCP2CON.1 
.................... #bit    CCP2M2 = CCP2CON.2 
.................... #bit    CCP2M3 = CCP2CON.3 
.................... #bit    DC2B0 = CCP2CON.4 
.................... #bit    DC2B1 = CCP2CON.5 
.................... #byte ANSEL1 = 0xFB9 
.................... #bit    ANS8 = ANSEL1.0 
.................... #byte ANSEL0 = 0xFB8 
.................... #byte T5CON = 0xFB7 
.................... #bit    TMR5ON = T5CON.0 
.................... #bit    TMR5CS = T5CON.1 
.................... #bit    T5SYNC = T5CON.2 
.................... #bit    T5PS0 = T5CON.3 
.................... #bit    T5PS1 = T5CON.4 
.................... #bit    T5MOD = T5CON.5 
.................... #bit    RESEN = T5CON.6 
.................... #bit    T5SEN = T5CON.7 
.................... #byte QEICON = 0xFB6 
.................... #bit    PDEC0 = QEICON.0 
.................... #bit    PDEC1 = QEICON.1 
.................... #bit    QEIM0 = QEICON.2 
.................... #bit    QEIM1 = QEICON.3 
.................... #bit    QEIM2 = QEICON.4 
.................... #bit    UP = QEICON.5 
.................... #bit    ERROR = QEICON.6 
.................... #bit    VELM = QEICON.7 
.................... #byte SPBRGH = 0xFB0 
.................... #byte SPBRG = 0xFAF 
.................... #byte RCREG = 0xFAE 
.................... #byte TXREG = 0xFAD 
.................... #byte TXSTA = 0xFAC 
.................... #bit    TX9D = TXSTA.0 
.................... #bit    TRMT = TXSTA.1 
.................... #bit    BRGH = TXSTA.2 
.................... #bit    SENDB = TXSTA.3 
.................... #bit    SYNC = TXSTA.4 
.................... #bit    TXEN = TXSTA.5 
.................... #bit    TX9 = TXSTA.6 
.................... #bit    CSRC = TXSTA.7 
.................... #byte RCSTA = 0xFAB 
.................... #bit    RX9D = RCSTA.0 
.................... #bit    OERR = RCSTA.1 
.................... #bit    FERR = RCSTA.2 
.................... #bit    ADDEN = RCSTA.3 
.................... #bit    CREN = RCSTA.4 
.................... #bit    SREN = RCSTA.5 
.................... #bit    RX9 = RCSTA.6 
.................... #bit    SPEN = RCSTA.7 
.................... #byte BAUDCON = 0xFAA 
.................... #bit    ABDEN = BAUDCON.0 
.................... #bit    WUE = BAUDCON.1 
.................... #bit    BRG16 = BAUDCON.3 
.................... #bit    TXCKP = BAUDCON.4 
.................... #bit    RXDTP = BAUDCON.5 
.................... #bit    RCIDL = BAUDCON.6 
.................... #bit    ABDOVF = BAUDCON.7 
.................... #byte EEADR = 0xFA9 
.................... #byte EEDATA = 0xFA8 
.................... #byte EECON2 = 0xFA7 
.................... #byte EECON1 = 0xFA6 
.................... #bit    RD = EECON1.0 
.................... #bit    WR = EECON1.1 
.................... #bit    WREN = EECON1.2 
.................... #bit    WRERR = EECON1.3 
.................... #bit    FREE = EECON1.4 
.................... #bit    CFGS = EECON1.6 
.................... #bit    EEPGD = EECON1.7 
.................... #byte IPR3 = 0xFA5 
.................... #bit    TMR5IP = IPR3.0 
.................... #bit    IC1IP = IPR3.1 
.................... #bit    IC2QEIP = IPR3.2 
.................... #bit    IC3DRIP = IPR3.3 
.................... #bit    PTIP = IPR3.4 
.................... #byte PIR3 = 0xFA4 
.................... #bit    TMR5IF = PIR3.0 
.................... #bit    IC1IF = PIR3.1 
.................... #bit    IC2QEIF = PIR3.2 
.................... #bit    IC3DRIF = PIR3.3 
.................... #bit    PTIF = PIR3.4 
.................... #byte PIE3 = 0xFA3 
.................... #bit    TMR5IE = PIE3.0 
.................... #bit    IC1IE = PIE3.1 
.................... #bit    IC2QEIE = PIE3.2 
.................... #bit    IC3DRIE = PIE3.3 
.................... #bit    PTIE = PIE3.4 
.................... #byte IPR2 = 0xFA2 
.................... #bit    CCP2IP = IPR2.0 
.................... #bit    LVDIP = IPR2.2 
.................... #bit    EEIP = IPR2.4 
.................... #bit    OSFIP = IPR2.7 
.................... #byte PIR2 = 0xFA1 
.................... #bit    CCP2IF = PIR2.0 
.................... #bit    LVDIF = PIR2.2 
.................... #bit    EEIF = PIR2.4 
.................... #bit    OSFIF = PIR2.7 
.................... #byte PIE2 = 0xFA0 
.................... #bit    CCP2IE = PIE2.0 
.................... #bit    LVDIE = PIE2.2 
.................... #bit    EEIE = PIE2.4 
.................... #bit    OSFIE = PIE2.7 
.................... #byte IPR1 = 0xF9F 
.................... #bit    TMR1IP = IPR1.0 
.................... #bit    TMR2IP = IPR1.1 
.................... #bit    CCP1IP = IPR1.2 
.................... #bit    SSPIP = IPR1.3 
.................... #bit    TXIP = IPR1.4 
.................... #bit    RCIP = IPR1.5 
.................... #bit    ADIP = IPR1.6 
.................... #byte PIR1 = 0xF9E 
.................... #bit    TMR1IF = PIR1.0 
.................... #bit    TMR2IF = PIR1.1 
.................... #bit    CCP1IF = PIR1.2 
.................... #bit    SSPIF = PIR1.3 
.................... #bit    TXIF = PIR1.4 
.................... #bit    RCIF = PIR1.5 
.................... #bit    ADIF = PIR1.6 
.................... #byte PIE1 = 0xF9D 
.................... #bit    TMR1IE = PIE1.0 
.................... #bit    TMR2IE = PIE1.1 
.................... #bit    CCP1IE = PIE1.2 
.................... #bit    SSPIE = PIE1.3 
.................... #bit    TXIE = PIE1.4 
.................... #bit    RCIE = PIE1.5 
.................... #bit    ADIE = PIE1.6 
.................... #byte OSCTUNE = 0xF9B 
.................... #byte ADCON3 = 0xF9A 
.................... #bit    SSRC0 = ADCON3.0 
.................... #bit    SSRC1 = ADCON3.1 
.................... #bit    SSRC2 = ADCON3.2 
.................... #bit    SSRC3 = ADCON3.3 
.................... #bit    SSRC4 = ADCON3.4 
.................... #bit    ADRS0 = ADCON3.6 
.................... #bit    ADRS1 = ADCON3.7 
.................... #byte ADCHS = 0xF99 
.................... #bit    SASEL0 = ADCHS.0 
.................... #bit    SASEL1 = ADCHS.1 
.................... #bit    SCSEL0 = ADCHS.2 
.................... #bit    SCSEL1 = ADCHS.3 
.................... #bit    SBSEL0 = ADCHS.4 
.................... #bit    SBSEL1 = ADCHS.5 
.................... #bit    SDSEL0 = ADCHS.6 
.................... #bit    SDSEL1 = ADCHS.7 
.................... #byte TRISE = 0xF96 
.................... #byte TRISD = 0xF95 
.................... #byte TRISC = 0xF94 
.................... #byte TRISB = 0xF93 
.................... #byte TRISA = 0xF92 
.................... #word PR5 = 0xF91 
.................... #byte LATE = 0xF8D 
.................... #byte LATD = 0xF8C 
.................... #byte LATC = 0xF8B 
.................... #byte LATB = 0xF8A 
.................... #byte LATA = 0xF89 
.................... #word TMR5 = 0xF88 
.................... #byte PORTE = 0xF84 
.................... #byte PORTD = 0xF83 
.................... #byte PORTC = 0xF82 
.................... #byte PORTB = 0xF81 
.................... #byte PORTA = 0xF80 
.................... #byte PTCON0 = 0xF7F 
.................... #bit    PTMOD0 = PTCON0.0 
.................... #bit    PTMOD1 = PTCON0.1 
.................... #bit    PTCKPS0 = PTCON0.2 
.................... #bit    PTCKPS1 = PTCON0.3 
.................... #bit    PTOPS0 = PTCON0.4 
.................... #bit    PTOPS1 = PTCON0.5 
.................... #bit    PTOPS2 = PTCON0.6 
.................... #bit    PTOPS3 = PTCON0.7 
.................... #byte PTCON1 = 0xF7E 
.................... #bit    PTDIR = PTCON1.6 
.................... #bit    PTEN = PTCON1.7 
.................... #byte PTMRL = 0xF7D 
.................... #byte PTMRH = 0xF7C 
.................... #byte PTPERL = 0xF7B 
.................... #byte PTPERH = 0xF7A 
.................... #byte PDC0L = 0xF79 
.................... #byte PDC0H = 0xF78 
.................... #byte PDC1L = 0xF77 
.................... #byte PDC1H = 0xF76 
.................... #byte PDC2L = 0xF75 
.................... #byte PDC2H = 0xF74 
.................... #byte PDC3L = 0xF73 
.................... #byte PDC3H = 0xF72 
.................... #byte SEVTCMPL = 0xF71 
.................... #byte SEVTCMPH = 0xF70 
.................... #byte PWMCON0 = 0xF6F 
.................... #bit    PMOD0 = PWMCON0.0 
.................... #bit    PMOD1 = PWMCON0.1 
.................... #bit    PMOD2 = PWMCON0.2 
.................... #bit    PMOD3 = PWMCON0.3 
.................... #bit    PWMEN0 = PWMCON0.4 
.................... #bit    PWMEN1 = PWMCON0.5 
.................... #bit    PWMEN2 = PWMCON0.6 
.................... #byte PWMCON1 = 0xF6E 
.................... #bit    OSYNC = PWMCON1.0 
.................... #bit    UDIS = PWMCON1.1 
.................... #bit    SEVTDIR = PWMCON1.3 
.................... #bit    SEVOPS0 = PWMCON1.4 
.................... #bit    SEVOPS1 = PWMCON1.5 
.................... #bit    SEVOPS2 = PWMCON1.6 
.................... #bit    SEVOPS3 = PWMCON1.7 
.................... #byte DTCON = 0xF6D 
.................... #bit    DTA0 = DTCON.0 
.................... #bit    DTA1 = DTCON.1 
.................... #bit    DTA2 = DTCON.2 
.................... #bit    DTA3 = DTCON.3 
.................... #bit    DTA4 = DTCON.4 
.................... #bit    DTA5 = DTCON.5 
.................... #bit    DTAPS0 = DTCON.6 
.................... #bit    DTAPS1 = DTCON.7 
.................... #byte FLTCONFIG = 0xF6C 
.................... #bit    FLTAEN = FLTCONFIG.0 
.................... #bit    FLTAMOD = FLTCONFIG.1 
.................... #bit    FLTAS = FLTCONFIG.2 
.................... #bit    FLTCON = FLTCONFIG.3 
.................... #bit    FLTBEN = FLTCONFIG.4 
.................... #bit    FLTBMOD = FLTCONFIG.5 
.................... #bit    FLTBS = FLTCONFIG.6 
.................... #bit    BRFEN = FLTCONFIG.7 
.................... #byte OVDCOND = 0xF6B 
.................... #byte OVDCONS = 0xF6A 
.................... #word CAP1BUF = 0xF69 
.................... #word CAP2BUF = 0xF67 
.................... #word CAP3BUF = 0xF65 
.................... #byte CAP1CON = 0xF63 
.................... #bit    CAP1M0 = CAP1CON.0 
.................... #bit    CAP1M1 = CAP1CON.1 
.................... #bit    CAP1M2 = CAP1CON.2 
.................... #bit    CAP1M3 = CAP1CON.3 
.................... #bit    CAP1TMR = CAP1CON.5 
.................... #bit    CAP1REN = CAP1CON.6 
.................... #byte CAP2CON = 0xF62 
.................... #bit    CAP2M0 = CAP2CON.0 
.................... #bit    CAP2M1 = CAP2CON.1 
.................... #bit    CAP2M2 = CAP2CON.2 
.................... #bit    CAP2M3 = CAP2CON.3 
.................... #bit    CAP2TMR = CAP2CON.5 
.................... #bit    CAP2REN = CAP2CON.6 
.................... #byte CAP3CON = 0xF61 
.................... #bit    CAP3M0 = CAP3CON.0 
.................... #bit    CAP3M1 = CAP3CON.1 
.................... #bit    CAP3M2 = CAP3CON.2 
.................... #bit    CAP3M3 = CAP3CON.3 
.................... #bit    CAP3TMR = CAP3CON.5 
.................... #bit    CAP3REN = CAP3CON.6 
.................... #byte DFLTCON = 0xF60 
.................... #bit    FLTCK0 = DFLTCON.0 
.................... #bit    FLTCK1 = DFLTCON.1 
.................... #bit    FLTCK2 = DFLTCON.2 
.................... #bit    FLT1EN = DFLTCON.3 
.................... #bit    FLT2EN = DFLTCON.4 
.................... #bit    FLT3EN = DFLTCON.5 
.................... #bit    FLT4EN = DFLTCON.6 
....................  
.................... #fuses hs,nobrownout,nowdt,protect,put,nolvp,nodebug 
.................... #use delay(clock=20000000) 
*
013C:  CLRF   FEA
013E:  MOVLW  58
0140:  MOVWF  FE9
0142:  MOVF   FEF,W
0144:  BZ    0160
0146:  MOVLW  06
0148:  MOVWF  01
014A:  CLRF   00
014C:  DECFSZ 00,F
014E:  BRA    014C
0150:  DECFSZ 01,F
0152:  BRA    014A
0154:  MOVLW  7B
0156:  MOVWF  00
0158:  DECFSZ 00,F
015A:  BRA    0158
015C:  DECFSZ FEF,F
015E:  BRA    0146
0160:  RETLW  00
....................  
.................... /////////////////////////////////////////////////// 
.................... #define LCD_RS_PIN      PIN_b7                             
.................... #define LCD_RW_PIN      PIN_b6    
.................... #define LCD_ENABLE_PIN  PIN_b5                                                               
.................... #define LCD_DATA4       PIN_d0                                  
.................... #define LCD_DATA5       PIN_d1                                   
.................... #define LCD_DATA6       PIN_d2                                    
.................... #define LCD_DATA7       PIN_d3 
.................... #include <lcd.c> 
.................... /////////////////////////////////////////////////////////////////////////////// 
.................... ////                             LCD.C                                     //// 
.................... ////                 Driver for common LCD modules                         //// 
.................... ////                                                                       //// 
.................... ////  lcd_init()   Must be called before any other function.               //// 
.................... ////                                                                       //// 
.................... ////  lcd_putc(c)  Will display c on the next position of the LCD.         //// 
.................... ////                 \a  Set cursor position to upper left                 //// 
.................... ////                 \f  Clear display, set cursor to upper left           //// 
.................... ////                 \n  Go to start of second line                        //// 
.................... ////                 \b  Move back one position                            //// 
.................... ////              If LCD_EXTENDED_NEWLINE is defined, the \n character     //// 
.................... ////              will erase all remanining characters on the current      //// 
.................... ////              line, and move the cursor to the beginning of the next   //// 
.................... ////              line.                                                    //// 
.................... ////              If LCD_EXTENDED_NEWLINE is defined, the \r character     //// 
.................... ////              will move the cursor to the start of the current         //// 
.................... ////              line.                                                    //// 
.................... ////                                                                       //// 
.................... ////  lcd_gotoxy(x,y) Set write position on LCD (upper left is 1,1)        //// 
.................... ////                                                                       //// 
.................... ////  lcd_getc(x,y)   Returns character at position x,y on LCD             //// 
.................... ////                                                                       //// 
.................... ////  CONFIGURATION                                                        //// 
.................... ////  The LCD can be configured in one of two ways: a.) port access or     //// 
.................... ////  b.) pin access.  Port access requires the entire 7 bit interface     //// 
.................... ////  connected to one GPIO port, and the data bits (D4:D7 of the LCD)     //// 
.................... ////  connected to sequential pins on the GPIO.  Pin access                //// 
.................... ////  has no requirements, all 7 bits of the control interface can         //// 
.................... ////  can be connected to any GPIO using several ports.                    //// 
.................... ////                                                                       //// 
.................... ////  To use port access, #define LCD_DATA_PORT to the SFR location of     //// 
.................... ////  of the GPIO port that holds the interface, -AND- edit LCD_PIN_MAP    //// 
.................... ////  of this file to configure the pin order.  If you are using a         //// 
.................... ////  baseline PIC (PCB), then LCD_OUTPUT_MAP and LCD_INPUT_MAP also must  //// 
.................... ////  be defined.                                                          //// 
.................... ////                                                                       //// 
.................... ////  Example of port access:                                              //// 
.................... ////     #define LCD_DATA_PORT getenv("SFR:PORTD")                         //// 
.................... ////                                                                       //// 
.................... ////  To use pin access, the following pins must be defined:               //// 
.................... ////     LCD_ENABLE_PIN                                                    //// 
.................... ////     LCD_RS_PIN                                                        //// 
.................... ////     LCD_RW_PIN                                                        //// 
.................... ////     LCD_DATA4                                                         //// 
.................... ////     LCD_DATA5                                                         //// 
.................... ////     LCD_DATA6                                                         //// 
.................... ////     LCD_DATA7                                                         //// 
.................... ////                                                                       //// 
.................... ////  Example of pin access:                                               //// 
.................... ////     #define LCD_ENABLE_PIN  PIN_E0                                    //// 
.................... ////     #define LCD_RS_PIN      PIN_E1                                    //// 
.................... ////     #define LCD_RW_PIN      PIN_E2                                    //// 
.................... ////     #define LCD_DATA4       PIN_D4                                    //// 
.................... ////     #define LCD_DATA5       PIN_D5                                    //// 
.................... ////     #define LCD_DATA6       PIN_D6                                    //// 
.................... ////     #define LCD_DATA7       PIN_D7                                    //// 
.................... ////                                                                       //// 
.................... /////////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996,2010 Custom Computer Services           //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
....................  
.................... // define the pinout. 
.................... // only required if port access is being used. 
.................... typedef struct   
.................... {                            // This structure is overlayed 
....................    BOOLEAN enable;           // on to an I/O port to gain 
....................    BOOLEAN rs;               // access to the LCD pins. 
....................    BOOLEAN rw;               // The bits are allocated from 
....................    BOOLEAN unused;           // low order up.  ENABLE will 
....................    int     data : 4;         // be LSB pin of that port. 
....................   #if defined(__PCD__)       // The port used will be LCD_DATA_PORT. 
....................    int    reserved: 8; 
....................   #endif 
.................... } LCD_PIN_MAP; 
....................  
.................... // this is to improve compatability with previous LCD drivers that accepted 
.................... // a define labeled 'use_portb_lcd' that configured the LCD onto port B. 
.................... #if ((defined(use_portb_lcd)) && (use_portb_lcd==TRUE)) 
....................  #define LCD_DATA_PORT getenv("SFR:PORTB") 
.................... #endif 
....................  
.................... #if defined(__PCB__) 
....................    // these definitions only need to be modified for baseline PICs. 
....................    // all other PICs use LCD_PIN_MAP or individual LCD_xxx pin definitions. 
.................... /*                                    EN, RS,   RW,   UNUSED,  DATA  */ 
....................  const LCD_PIN_MAP LCD_OUTPUT_MAP =  {0,  0,    0,    0,       0}; 
....................  const LCD_PIN_MAP LCD_INPUT_MAP =   {0,  0,    0,    0,       0xF}; 
.................... #endif 
....................  
.................... ////////////////////// END CONFIGURATION /////////////////////////////////// 
....................  
.................... #ifndef LCD_ENABLE_PIN 
....................    #define lcd_output_enable(x) lcdlat.enable=x 
....................    #define lcd_enable_tris()   lcdtris.enable=0 
.................... #else 
....................    #define lcd_output_enable(x) output_bit(LCD_ENABLE_PIN, x) 
....................    #define lcd_enable_tris()  output_drive(LCD_ENABLE_PIN) 
.................... #endif 
....................  
.................... #ifndef LCD_RS_PIN 
....................    #define lcd_output_rs(x) lcdlat.rs=x 
....................    #define lcd_rs_tris()   lcdtris.rs=0 
.................... #else 
....................    #define lcd_output_rs(x) output_bit(LCD_RS_PIN, x) 
....................    #define lcd_rs_tris()  output_drive(LCD_RS_PIN) 
.................... #endif 
....................  
.................... #ifndef LCD_RW_PIN 
....................    #define lcd_output_rw(x) lcdlat.rw=x 
....................    #define lcd_rw_tris()   lcdtris.rw=0 
.................... #else 
....................    #define lcd_output_rw(x) output_bit(LCD_RW_PIN, x) 
....................    #define lcd_rw_tris()  output_drive(LCD_RW_PIN) 
.................... #endif 
....................  
.................... // original version of this library incorrectly labeled LCD_DATA0 as LCD_DATA4, 
.................... // LCD_DATA1 as LCD_DATA5, and so on.  this block of code makes the driver 
.................... // compatible with any code written for the original library 
.................... #if (defined(LCD_DATA0) && defined(LCD_DATA1) && defined(LCD_DATA2) && defined(LCD_DATA3) && !defined(LCD_DATA4) && !defined(LCD_DATA5) && !defined(LCD_DATA6) && !defined(LCD_DATA7)) 
....................    #define  LCD_DATA4    LCD_DATA0 
....................    #define  LCD_DATA5    LCD_DATA1 
....................    #define  LCD_DATA6    LCD_DATA2 
....................    #define  LCD_DATA7    LCD_DATA3 
.................... #endif 
....................  
.................... #ifndef LCD_DATA4 
.................... #ifndef LCD_DATA_PORT 
....................    #if defined(__PCB__) 
....................       #define LCD_DATA_PORT      0x06     //portb 
....................       #define set_tris_lcd(x)   set_tris_b(x) 
....................    #else 
....................      #if defined(PIN_D0) 
....................       #define LCD_DATA_PORT      getenv("SFR:PORTD")     //portd 
....................      #else 
....................       #define LCD_DATA_PORT      getenv("SFR:PORTB")     //portb 
....................      #endif 
....................    #endif    
.................... #endif 
....................  
.................... #if defined(__PCB__) 
....................    LCD_PIN_MAP lcd, lcdlat; 
....................    #byte lcd = LCD_DATA_PORT 
....................    #byte lcdlat = LCD_DATA_PORT 
.................... #elif defined(__PCM__) 
....................    LCD_PIN_MAP lcd, lcdlat, lcdtris; 
....................    #byte lcd = LCD_DATA_PORT 
....................    #byte lcdlat = LCD_DATA_PORT 
....................    #byte lcdtris = LCD_DATA_PORT+0x80 
.................... #elif defined(__PCH__) 
....................    LCD_PIN_MAP lcd, lcdlat, lcdtris; 
....................    #byte lcd = LCD_DATA_PORT 
....................    #byte lcdlat = LCD_DATA_PORT+9 
....................    #byte lcdtris = LCD_DATA_PORT+0x12 
.................... #elif defined(__PCD__) 
....................    LCD_PIN_MAP lcd, lcdlat, lcdtris; 
....................    #word lcd = LCD_DATA_PORT 
....................    #word lcdlat = LCD_DATA_PORT+2 
....................    #word lcdtris = LCD_DATA_PORT-0x02 
.................... #endif 
.................... #endif   //LCD_DATA4 not defined 
....................  
.................... #ifndef LCD_TYPE 
....................    #define LCD_TYPE 2           // 0=5x7, 1=5x10, 2=2 lines 
.................... #endif 
....................  
.................... #ifndef LCD_LINE_TWO 
....................    #define LCD_LINE_TWO 0x40    // LCD RAM address for the second line 
.................... #endif 
....................  
.................... #ifndef LCD_LINE_LENGTH 
....................    #define LCD_LINE_LENGTH 20 
.................... #endif 
....................  
.................... BYTE const LCD_INIT_STRING[4] = {0x20 | (LCD_TYPE << 2), 0xc, 1, 6}; 
....................                              // These bytes need to be sent to the LCD 
....................                              // to start it up. 
....................  
.................... BYTE lcd_read_nibble(void); 
....................  
.................... BYTE lcd_read_byte(void) 
.................... { 
....................    BYTE low,high; 
....................  
....................  #if defined(__PCB__) 
....................    set_tris_lcd(LCD_INPUT_MAP); 
....................  #else 
....................   #if (defined(LCD_DATA4) && defined(LCD_DATA5) && defined(LCD_DATA6) && defined(LCD_DATA7)) 
....................    output_float(LCD_DATA4); 
*
01F8:  BSF    F95.0
....................    output_float(LCD_DATA5); 
01FA:  BSF    F95.1
....................    output_float(LCD_DATA6); 
01FC:  BSF    F95.2
....................    output_float(LCD_DATA7); 
01FE:  BSF    F95.3
....................   #else 
....................    lcdtris.data = 0xF; 
....................   #endif 
....................  #endif 
....................          
....................    lcd_output_rw(1); 
0200:  BSF    F8A.6
0202:  BCF    F93.6
....................    delay_cycles(1); 
0204:  NOP   
....................    lcd_output_enable(1); 
0206:  BSF    F8A.5
0208:  BCF    F93.5
....................    delay_cycles(1); 
020A:  NOP   
....................    high = lcd_read_nibble(); 
020C:  RCALL  01A6
020E:  MOVFF  01,5F
....................        
....................    lcd_output_enable(0); 
0212:  BCF    F8A.5
0214:  BCF    F93.5
....................    delay_cycles(1); 
0216:  NOP   
....................    lcd_output_enable(1); 
0218:  BSF    F8A.5
021A:  BCF    F93.5
....................    delay_us(1); 
021C:  BRA    021E
021E:  BRA    0220
0220:  NOP   
....................    low = lcd_read_nibble(); 
0222:  RCALL  01A6
0224:  MOVFF  01,5E
....................        
....................    lcd_output_enable(0); 
0228:  BCF    F8A.5
022A:  BCF    F93.5
....................  
....................  #if defined(__PCB__) 
....................    set_tris_lcd(LCD_OUTPUT_MAP); 
....................  #else 
....................   #if (defined(LCD_DATA4) && defined(LCD_DATA5) && defined(LCD_DATA6) && defined(LCD_DATA7)) 
....................    output_drive(LCD_DATA4); 
022C:  BCF    F95.0
....................    output_drive(LCD_DATA5); 
022E:  BCF    F95.1
....................    output_drive(LCD_DATA6); 
0230:  BCF    F95.2
....................    output_drive(LCD_DATA7); 
0232:  BCF    F95.3
....................   #else 
....................    lcdtris.data = 0x0; 
....................   #endif 
....................  #endif 
....................  
....................    return( (high<<4) | low); 
0234:  SWAPF  5F,W
0236:  MOVWF  00
0238:  MOVLW  F0
023A:  ANDWF  00,F
023C:  MOVF   00,W
023E:  IORWF  5E,W
0240:  MOVWF  01
.................... } 
0242:  GOTO   0252 (RETURN)
....................  
.................... BYTE lcd_read_nibble(void) 
.................... { 
....................   #if (defined(LCD_DATA4) && defined(LCD_DATA5) && defined(LCD_DATA6) && defined(LCD_DATA7)) 
*
01A6:  CLRF   x60
....................    BYTE n = 0x00; 
....................  
....................    /* Read the data port */ 
....................    n |= input(LCD_DATA4); 
01A8:  BSF    F95.0
01AA:  MOVLW  00
01AC:  BTFSC  F83.0
01AE:  MOVLW  01
01B0:  IORWF  x60,F
....................    n |= input(LCD_DATA5) << 1; 
01B2:  BSF    F95.1
01B4:  MOVLW  00
01B6:  BTFSC  F83.1
01B8:  MOVLW  01
01BA:  MOVWF  00
01BC:  BCF    FD8.0
01BE:  RLCF   00,F
01C0:  MOVF   00,W
01C2:  IORWF  x60,F
....................    n |= input(LCD_DATA6) << 2; 
01C4:  BSF    F95.2
01C6:  MOVLW  00
01C8:  BTFSC  F83.2
01CA:  MOVLW  01
01CC:  MOVWF  00
01CE:  RLCF   00,F
01D0:  RLCF   00,F
01D2:  MOVLW  FC
01D4:  ANDWF  00,F
01D6:  MOVF   00,W
01D8:  IORWF  x60,F
....................    n |= input(LCD_DATA7) << 3; 
01DA:  BSF    F95.3
01DC:  MOVLW  00
01DE:  BTFSC  F83.3
01E0:  MOVLW  01
01E2:  MOVWF  00
01E4:  RLCF   00,F
01E6:  RLCF   00,F
01E8:  RLCF   00,F
01EA:  MOVLW  F8
01EC:  ANDWF  00,F
01EE:  MOVF   00,W
01F0:  IORWF  x60,F
....................     
....................    return(n); 
01F2:  MOVFF  60,01
....................   #else 
....................    return(lcd.data); 
....................   #endif 
.................... } 
01F6:  RETLW  00
....................  
.................... void lcd_send_nibble(BYTE n) 
.................... { 
....................   #if (defined(LCD_DATA4) && defined(LCD_DATA5) && defined(LCD_DATA6) && defined(LCD_DATA7)) 
....................    /* Write to the data port */ 
....................    output_bit(LCD_DATA4, bit_test(n, 0)); 
*
0162:  BTFSC  5F.0
0164:  BRA    016A
0166:  BCF    F8C.0
0168:  BRA    016C
016A:  BSF    F8C.0
016C:  BCF    F95.0
....................    output_bit(LCD_DATA5, bit_test(n, 1)); 
016E:  BTFSC  5F.1
0170:  BRA    0176
0172:  BCF    F8C.1
0174:  BRA    0178
0176:  BSF    F8C.1
0178:  BCF    F95.1
....................    output_bit(LCD_DATA6, bit_test(n, 2)); 
017A:  BTFSC  5F.2
017C:  BRA    0182
017E:  BCF    F8C.2
0180:  BRA    0184
0182:  BSF    F8C.2
0184:  BCF    F95.2
....................    output_bit(LCD_DATA7, bit_test(n, 3)); 
0186:  BTFSC  5F.3
0188:  BRA    018E
018A:  BCF    F8C.3
018C:  BRA    0190
018E:  BSF    F8C.3
0190:  BCF    F95.3
....................   #else       
....................    lcdlat.data = n; 
....................   #endif 
....................        
....................    delay_cycles(1); 
0192:  NOP   
....................    lcd_output_enable(1); 
0194:  BSF    F8A.5
0196:  BCF    F93.5
....................    delay_us(2); 
0198:  MOVLW  03
019A:  MOVWF  00
019C:  DECFSZ 00,F
019E:  BRA    019C
....................    lcd_output_enable(0); 
01A0:  BCF    F8A.5
01A2:  BCF    F93.5
.................... } 
01A4:  RETLW  00
....................  
.................... void lcd_send_byte(BYTE address, BYTE n) 
.................... { 
....................   #if defined(__PCB__) 
....................    set_tris_lcd(LCD_OUTPUT_MAP); 
....................   #else 
....................    lcd_enable_tris(); 
*
0246:  BCF    F93.5
....................    lcd_rs_tris(); 
0248:  BCF    F93.7
....................    lcd_rw_tris(); 
024A:  BCF    F93.6
....................   #endif 
....................  
....................    lcd_output_rs(0); 
024C:  BCF    F8A.7
024E:  BCF    F93.7
....................    while ( bit_test(lcd_read_byte(),7) ) ; 
0250:  BRA    01F8
0252:  MOVFF  01,5E
0256:  BTFSC  01.7
0258:  BRA    0250
....................    lcd_output_rs(address); 
025A:  MOVF   5C,F
025C:  BNZ   0262
025E:  BCF    F8A.7
0260:  BRA    0264
0262:  BSF    F8A.7
0264:  BCF    F93.7
....................    delay_cycles(1); 
0266:  NOP   
....................    lcd_output_rw(0); 
0268:  BCF    F8A.6
026A:  BCF    F93.6
....................    delay_cycles(1); 
026C:  NOP   
....................    lcd_output_enable(0); 
026E:  BCF    F8A.5
0270:  BCF    F93.5
....................    lcd_send_nibble(n >> 4); 
0272:  SWAPF  5D,W
0274:  MOVWF  5E
0276:  MOVLW  0F
0278:  ANDWF  5E,F
027A:  MOVFF  5E,5F
027E:  RCALL  0162
....................    lcd_send_nibble(n & 0xf); 
0280:  MOVF   5D,W
0282:  ANDLW  0F
0284:  MOVWF  5E
0286:  MOVWF  5F
0288:  RCALL  0162
.................... } 
028A:  RETLW  00
....................  
.................... #if defined(LCD_EXTENDED_NEWLINE) 
.................... unsigned int8 g_LcdX, g_LcdY; 
.................... #endif 
....................  
.................... void lcd_init(void)  
.................... { 
....................    BYTE i; 
....................  
....................  #if defined(__PCB__) 
....................    set_tris_lcd(LCD_OUTPUT_MAP); 
....................  #else 
....................   #if (defined(LCD_DATA4) && defined(LCD_DATA5) && defined(LCD_DATA6) && defined(LCD_DATA7)) 
....................    output_drive(LCD_DATA4); 
028C:  BCF    F95.0
....................    output_drive(LCD_DATA5); 
028E:  BCF    F95.1
....................    output_drive(LCD_DATA6); 
0290:  BCF    F95.2
....................    output_drive(LCD_DATA7); 
0292:  BCF    F95.3
....................   #else 
....................    lcdtris.data = 0x0; 
....................   #endif 
....................    lcd_enable_tris(); 
0294:  BCF    F93.5
....................    lcd_rs_tris(); 
0296:  BCF    F93.7
....................    lcd_rw_tris(); 
0298:  BCF    F93.6
....................  #endif 
....................  
....................    lcd_output_rs(0); 
029A:  BCF    F8A.7
029C:  BCF    F93.7
....................    lcd_output_rw(0); 
029E:  BCF    F8A.6
02A0:  BCF    F93.6
....................    lcd_output_enable(0); 
02A2:  BCF    F8A.5
02A4:  BCF    F93.5
....................      
....................    delay_ms(15); 
02A6:  MOVLW  0F
02A8:  MOVWF  58
02AA:  RCALL  013C
....................    for(i=1;i<=3;++i) 
02AC:  MOVLW  01
02AE:  MOVWF  39
02B0:  MOVF   39,W
02B2:  SUBLW  03
02B4:  BNC   02CA
....................    { 
....................        lcd_send_nibble(3); 
02B6:  MOVLW  03
02B8:  MOVWF  5F
02BA:  RCALL  0162
....................        lcd_send_nibble(0); 
02BC:  CLRF   5F
02BE:  RCALL  0162
....................        delay_ms(5); 
02C0:  MOVLW  05
02C2:  MOVWF  58
02C4:  RCALL  013C
....................    } 
02C6:  INCF   39,F
02C8:  BRA    02B0
....................     
....................    lcd_send_nibble(2); 
02CA:  MOVLW  02
02CC:  MOVWF  5F
02CE:  RCALL  0162
....................    lcd_send_nibble(0); 
02D0:  CLRF   5F
02D2:  RCALL  0162
....................    delay_ms(5); 
02D4:  MOVLW  05
02D6:  MOVWF  58
02D8:  RCALL  013C
....................    for(i=0;i<=3;++i) 
02DA:  CLRF   39
02DC:  MOVF   39,W
02DE:  SUBLW  03
02E0:  BNC   02F4
....................       lcd_send_byte(0,LCD_INIT_STRING[i]); 
02E2:  CLRF   03
02E4:  MOVF   39,W
02E6:  RCALL  00BA
02E8:  MOVWF  3A
02EA:  CLRF   5C
02EC:  MOVWF  5D
02EE:  RCALL  0246
....................  
....................   #if defined(LCD_EXTENDED_NEWLINE) 
02F0:  INCF   39,F
02F2:  BRA    02DC
....................    g_LcdX = 0; 
....................    g_LcdY = 0; 
....................   #endif 
.................... } 
02F4:  GOTO   0B10 (RETURN)
....................  
.................... void lcd_gotoxy(BYTE x, BYTE y) 
.................... { 
....................    BYTE address; 
....................     
....................    if(y!=1) 
02F8:  DECFSZ 59,W
02FA:  BRA    02FE
02FC:  BRA    0304
....................       address=LCD_LINE_TWO; 
02FE:  MOVLW  40
0300:  MOVWF  5A
....................    else 
0302:  BRA    0306
....................       address=0; 
0304:  CLRF   5A
....................       
....................    address+=x-1; 
0306:  MOVLW  01
0308:  SUBWF  58,W
030A:  ADDWF  5A,F
....................    lcd_send_byte(0,0x80|address); 
030C:  MOVF   5A,W
030E:  IORLW  80
0310:  MOVWF  5B
0312:  CLRF   5C
0314:  MOVWF  5D
0316:  RCALL  0246
....................  
....................   #if defined(LCD_EXTENDED_NEWLINE) 
....................    g_LcdX = x - 1; 
....................    g_LcdY = y - 1; 
....................   #endif 
.................... } 
0318:  RETLW  00
....................  
.................... void lcd_putc(char c) 
.................... { 
....................    switch (c) 
....................    { 
031A:  MOVF   57,W
031C:  XORLW  07
031E:  BZ    032E
0320:  XORLW  0B
0322:  BZ    0338
0324:  XORLW  06
0326:  BZ    0348
0328:  XORLW  02
032A:  BZ    0354
032C:  BRA    035E
....................       case '\a'   :  lcd_gotoxy(1,1);     break; 
032E:  MOVLW  01
0330:  MOVWF  58
0332:  MOVWF  59
0334:  RCALL  02F8
0336:  BRA    036A
....................  
....................       case '\f'   :  lcd_send_byte(0,1); 
0338:  CLRF   5C
033A:  MOVLW  01
033C:  MOVWF  5D
033E:  RCALL  0246
....................                      delay_ms(2); 
0340:  MOVLW  02
0342:  MOVWF  58
0344:  RCALL  013C
....................                     #if defined(LCD_EXTENDED_NEWLINE) 
....................                      g_LcdX = 0; 
....................                      g_LcdY = 0; 
....................                     #endif 
....................                      break; 
0346:  BRA    036A
....................  
....................      #if defined(LCD_EXTENDED_NEWLINE) 
....................       case '\r'   :  lcd_gotoxy(1, g_LcdY+1);   break; 
....................       case '\n'   : 
....................          while (g_LcdX++ < LCD_LINE_LENGTH) 
....................          { 
....................             lcd_send_byte(1, ' '); 
....................          } 
....................          lcd_gotoxy(1, g_LcdY+2); 
....................          break; 
....................      #else 
....................       case '\n'   : lcd_gotoxy(1,2);        break; 
0348:  MOVLW  01
034A:  MOVWF  58
034C:  MOVLW  02
034E:  MOVWF  59
0350:  RCALL  02F8
0352:  BRA    036A
....................      #endif 
....................       
....................       case '\b'   : lcd_send_byte(0,0x10);  break; 
0354:  CLRF   5C
0356:  MOVLW  10
0358:  MOVWF  5D
035A:  RCALL  0246
035C:  BRA    036A
....................       
....................      #if defined(LCD_EXTENDED_NEWLINE) 
....................       default     :  
....................          if (g_LcdX < LCD_LINE_LENGTH) 
....................          { 
....................             lcd_send_byte(1, c); 
....................             g_LcdX++; 
....................          } 
....................          break; 
....................      #else 
....................       default     : lcd_send_byte(1,c);     break; 
035E:  MOVLW  01
0360:  MOVWF  5C
0362:  MOVFF  57,5D
0366:  RCALL  0246
0368:  BRA    036A
....................      #endif 
....................    } 
.................... } 
036A:  RETLW  00
....................   
.................... char lcd_getc(BYTE x, BYTE y) 
.................... { 
....................    char value; 
....................  
....................    lcd_gotoxy(x,y); 
....................    while ( bit_test(lcd_read_byte(),7) ); // wait until busy flag is low 
....................    lcd_output_rs(1); 
....................    value = lcd_read_byte(); 
....................    lcd_output_rs(0); 
....................     
....................    return(value); 
.................... } 
....................  
....................  
.................... void lcd_putnum(int32 so,INT8 x,int8 y) 
.................... { 
....................    INT32 a, b, c, d, e; 
....................    a = so / 10000; 
*
079C:  BCF    FD8.1
079E:  MOVFF  3C,5A
07A2:  MOVFF  3B,59
07A6:  MOVFF  3A,58
07AA:  MOVFF  39,57
07AE:  CLRF   5E
07B0:  CLRF   5D
07B2:  MOVLW  27
07B4:  MOVWF  5C
07B6:  MOVLW  10
07B8:  MOVWF  5B
07BA:  RCALL  06BA
07BC:  MOVFF  03,42
07C0:  MOVFF  02,41
07C4:  MOVFF  01,40
07C8:  MOVFF  00,3F
....................    b = (so - 10000 * a) / 1000; 
07CC:  CLRF   5A
07CE:  CLRF   59
07D0:  MOVLW  27
07D2:  MOVWF  58
07D4:  MOVLW  10
07D6:  MOVWF  57
07D8:  MOVFF  42,5E
07DC:  MOVFF  41,5D
07E0:  MOVFF  40,5C
07E4:  MOVFF  3F,5B
07E8:  RCALL  0748
07EA:  MOVF   00,W
07EC:  SUBWF  39,W
07EE:  MOVWF  53
07F0:  MOVF   01,W
07F2:  SUBWFB 3A,W
07F4:  MOVWF  54
07F6:  MOVF   02,W
07F8:  SUBWFB 3B,W
07FA:  MOVWF  55
07FC:  MOVF   03,W
07FE:  SUBWFB 3C,W
0800:  MOVWF  56
0802:  BCF    FD8.1
0804:  MOVWF  5A
0806:  MOVFF  55,59
080A:  MOVFF  54,58
080E:  MOVFF  53,57
0812:  CLRF   5E
0814:  CLRF   5D
0816:  MOVLW  03
0818:  MOVWF  5C
081A:  MOVLW  E8
081C:  MOVWF  5B
081E:  RCALL  06BA
0820:  MOVFF  03,46
0824:  MOVFF  02,45
0828:  MOVFF  01,44
082C:  MOVFF  00,43
....................    c = (so - 10000 * a - 1000 * b) / 100; 
0830:  CLRF   5A
0832:  CLRF   59
0834:  MOVLW  27
0836:  MOVWF  58
0838:  MOVLW  10
083A:  MOVWF  57
083C:  MOVFF  42,5E
0840:  MOVFF  41,5D
0844:  MOVFF  40,5C
0848:  MOVFF  3F,5B
084C:  RCALL  0748
084E:  MOVF   00,W
0850:  SUBWF  39,W
0852:  MOVWF  53
0854:  MOVF   01,W
0856:  SUBWFB 3A,W
0858:  MOVWF  54
085A:  MOVF   02,W
085C:  SUBWFB 3B,W
085E:  MOVWF  55
0860:  MOVF   03,W
0862:  SUBWFB 3C,W
0864:  MOVWF  56
0866:  CLRF   5A
0868:  CLRF   59
086A:  MOVLW  03
086C:  MOVWF  58
086E:  MOVLW  E8
0870:  MOVWF  57
0872:  MOVFF  46,5E
0876:  MOVFF  45,5D
087A:  MOVFF  44,5C
087E:  MOVFF  43,5B
0882:  RCALL  0748
0884:  MOVF   00,W
0886:  SUBWF  53,F
0888:  MOVF   01,W
088A:  SUBWFB 54,F
088C:  MOVF   02,W
088E:  SUBWFB 55,F
0890:  MOVF   03,W
0892:  SUBWFB 56,F
0894:  BCF    FD8.1
0896:  MOVFF  56,5A
089A:  MOVFF  55,59
089E:  MOVFF  54,58
08A2:  MOVFF  53,57
08A6:  CLRF   5E
08A8:  CLRF   5D
08AA:  CLRF   5C
08AC:  MOVLW  64
08AE:  MOVWF  5B
08B0:  RCALL  06BA
08B2:  MOVFF  03,4A
08B6:  MOVFF  02,49
08BA:  MOVFF  01,48
08BE:  MOVFF  00,47
....................    d = (so - 10000 * a - 1000 * b - 100 * c) / 10; 
08C2:  CLRF   5A
08C4:  CLRF   59
08C6:  MOVLW  27
08C8:  MOVWF  58
08CA:  MOVLW  10
08CC:  MOVWF  57
08CE:  MOVFF  42,5E
08D2:  MOVFF  41,5D
08D6:  MOVFF  40,5C
08DA:  MOVFF  3F,5B
08DE:  RCALL  0748
08E0:  MOVF   00,W
08E2:  SUBWF  39,W
08E4:  MOVWF  53
08E6:  MOVF   01,W
08E8:  SUBWFB 3A,W
08EA:  MOVWF  54
08EC:  MOVF   02,W
08EE:  SUBWFB 3B,W
08F0:  MOVWF  55
08F2:  MOVF   03,W
08F4:  SUBWFB 3C,W
08F6:  MOVWF  56
08F8:  CLRF   5A
08FA:  CLRF   59
08FC:  MOVLW  03
08FE:  MOVWF  58
0900:  MOVLW  E8
0902:  MOVWF  57
0904:  MOVFF  46,5E
0908:  MOVFF  45,5D
090C:  MOVFF  44,5C
0910:  MOVFF  43,5B
0914:  RCALL  0748
0916:  MOVF   00,W
0918:  SUBWF  53,F
091A:  MOVF   01,W
091C:  SUBWFB 54,F
091E:  MOVF   02,W
0920:  SUBWFB 55,F
0922:  MOVF   03,W
0924:  SUBWFB 56,F
0926:  CLRF   5A
0928:  CLRF   59
092A:  CLRF   58
092C:  MOVLW  64
092E:  MOVWF  57
0930:  MOVFF  4A,5E
0934:  MOVFF  49,5D
0938:  MOVFF  48,5C
093C:  MOVFF  47,5B
0940:  RCALL  0748
0942:  MOVF   00,W
0944:  SUBWF  53,F
0946:  MOVF   01,W
0948:  SUBWFB 54,F
094A:  MOVF   02,W
094C:  SUBWFB 55,F
094E:  MOVF   03,W
0950:  SUBWFB 56,F
0952:  BCF    FD8.1
0954:  MOVFF  56,5A
0958:  MOVFF  55,59
095C:  MOVFF  54,58
0960:  MOVFF  53,57
0964:  CLRF   5E
0966:  CLRF   5D
0968:  CLRF   5C
096A:  MOVLW  0A
096C:  MOVWF  5B
096E:  RCALL  06BA
0970:  MOVFF  03,4E
0974:  MOVFF  02,4D
0978:  MOVFF  01,4C
097C:  MOVFF  00,4B
....................    e = so - 10000 * a - 1000 * b - 100 * c - 10 * d; 
0980:  CLRF   5A
0982:  CLRF   59
0984:  MOVLW  27
0986:  MOVWF  58
0988:  MOVLW  10
098A:  MOVWF  57
098C:  MOVFF  42,5E
0990:  MOVFF  41,5D
0994:  MOVFF  40,5C
0998:  MOVFF  3F,5B
099C:  RCALL  0748
099E:  MOVF   00,W
09A0:  SUBWF  39,W
09A2:  MOVWF  53
09A4:  MOVF   01,W
09A6:  SUBWFB 3A,W
09A8:  MOVWF  54
09AA:  MOVF   02,W
09AC:  SUBWFB 3B,W
09AE:  MOVWF  55
09B0:  MOVF   03,W
09B2:  SUBWFB 3C,W
09B4:  MOVWF  56
09B6:  CLRF   5A
09B8:  CLRF   59
09BA:  MOVLW  03
09BC:  MOVWF  58
09BE:  MOVLW  E8
09C0:  MOVWF  57
09C2:  MOVFF  46,5E
09C6:  MOVFF  45,5D
09CA:  MOVFF  44,5C
09CE:  MOVFF  43,5B
09D2:  RCALL  0748
09D4:  MOVF   00,W
09D6:  SUBWF  53,F
09D8:  MOVF   01,W
09DA:  SUBWFB 54,F
09DC:  MOVF   02,W
09DE:  SUBWFB 55,F
09E0:  MOVF   03,W
09E2:  SUBWFB 56,F
09E4:  CLRF   5A
09E6:  CLRF   59
09E8:  CLRF   58
09EA:  MOVLW  64
09EC:  MOVWF  57
09EE:  MOVFF  4A,5E
09F2:  MOVFF  49,5D
09F6:  MOVFF  48,5C
09FA:  MOVFF  47,5B
09FE:  RCALL  0748
0A00:  MOVF   00,W
0A02:  SUBWF  53,F
0A04:  MOVF   01,W
0A06:  SUBWFB 54,F
0A08:  MOVF   02,W
0A0A:  SUBWFB 55,F
0A0C:  MOVF   03,W
0A0E:  SUBWFB 56,F
0A10:  CLRF   5A
0A12:  CLRF   59
0A14:  CLRF   58
0A16:  MOVLW  0A
0A18:  MOVWF  57
0A1A:  MOVFF  4E,5E
0A1E:  MOVFF  4D,5D
0A22:  MOVFF  4C,5C
0A26:  MOVFF  4B,5B
0A2A:  RCALL  0748
0A2C:  MOVF   00,W
0A2E:  SUBWF  53,W
0A30:  MOVWF  4F
0A32:  MOVF   01,W
0A34:  SUBWFB 54,W
0A36:  MOVWF  50
0A38:  MOVF   02,W
0A3A:  SUBWFB 55,W
0A3C:  MOVWF  51
0A3E:  MOVF   03,W
0A40:  SUBWFB 56,W
0A42:  MOVWF  52
....................    lcd_gotoxy (x, y); 
0A44:  MOVFF  3D,58
0A48:  MOVFF  3E,59
0A4C:  RCALL  02F8
....................    lcd_putc (a + 48); 
0A4E:  MOVLW  30
0A50:  ADDWF  3F,W
0A52:  MOVWF  53
0A54:  MOVLW  00
0A56:  ADDWFC 40,W
0A58:  MOVWF  54
0A5A:  MOVLW  00
0A5C:  ADDWFC 41,W
0A5E:  MOVWF  55
0A60:  MOVLW  00
0A62:  ADDWFC 42,W
0A64:  MOVWF  56
0A66:  MOVFF  53,57
0A6A:  RCALL  031A
....................    lcd_putc (b + 48); 
0A6C:  MOVLW  30
0A6E:  ADDWF  43,W
0A70:  MOVWF  53
0A72:  MOVLW  00
0A74:  ADDWFC 44,W
0A76:  MOVWF  54
0A78:  MOVLW  00
0A7A:  ADDWFC 45,W
0A7C:  MOVWF  55
0A7E:  MOVLW  00
0A80:  ADDWFC 46,W
0A82:  MOVWF  56
0A84:  MOVFF  53,57
0A88:  RCALL  031A
....................    lcd_putc (c + 48); 
0A8A:  MOVLW  30
0A8C:  ADDWF  47,W
0A8E:  MOVWF  53
0A90:  MOVLW  00
0A92:  ADDWFC 48,W
0A94:  MOVWF  54
0A96:  MOVLW  00
0A98:  ADDWFC 49,W
0A9A:  MOVWF  55
0A9C:  MOVLW  00
0A9E:  ADDWFC 4A,W
0AA0:  MOVWF  56
0AA2:  MOVFF  53,57
0AA6:  RCALL  031A
....................    lcd_putc (d + 48); 
0AA8:  MOVLW  30
0AAA:  ADDWF  4B,W
0AAC:  MOVWF  53
0AAE:  MOVLW  00
0AB0:  ADDWFC 4C,W
0AB2:  MOVWF  54
0AB4:  MOVLW  00
0AB6:  ADDWFC 4D,W
0AB8:  MOVWF  55
0ABA:  MOVLW  00
0ABC:  ADDWFC 4E,W
0ABE:  MOVWF  56
0AC0:  MOVFF  53,57
0AC4:  RCALL  031A
....................    lcd_putc (e + 48); 
0AC6:  MOVLW  30
0AC8:  ADDWF  4F,W
0ACA:  MOVWF  53
0ACC:  MOVLW  00
0ACE:  ADDWFC 50,W
0AD0:  MOVWF  54
0AD2:  MOVLW  00
0AD4:  ADDWFC 51,W
0AD6:  MOVWF  55
0AD8:  MOVLW  00
0ADA:  ADDWFC 52,W
0ADC:  MOVWF  56
0ADE:  MOVFF  53,57
0AE2:  RCALL  031A
.................... } 
0AE4:  GOTO   0ED0 (RETURN)
....................  
.................... ///////////////////////////////////////////////// 
.................... #bit triskenhAt=trisc.4 
.................... #bit kenhAt=portc.4 
.................... #bit triskenhBt=trisc.6 
.................... #bit kenhBt=portc.6 
....................  
.................... signed INT16 endatap=0, endatapn=0;  
.................... #INT_ext1 
....................  
.................... void ngatngoai1() 
.................... { 
....................     
....................    triskenhBt = 1; 
*
00CE:  BSF    F94.6
....................    IF (kenhBt == 0) endatap++; else endatapn++; 
00D0:  BTFSC  F82.6
00D2:  BRA    00DC
00D4:  INCF   19,F
00D6:  BTFSC  FD8.2
00D8:  INCF   1A,F
00DA:  BRA    00E2
00DC:  INCF   1B,F
00DE:  BTFSC  FD8.2
00E0:  INCF   1C,F
.................... } 
....................  
.................... ///////////////////////////////////////////////// 
00E2:  BCF    FF0.0
00E4:  GOTO   006C
.................... #bit triskenhAp=trisc.5 
.................... #bit kenhAp=portc.5 
.................... #bit triskenhBp=trisc.7 
.................... #bit kenhBp=portc.7 
....................  
.................... signed INT16 endatat=0, endatatn=0; 
....................  
.................... #INT_ext2 
....................  
.................... void ngatngoai2() 
.................... { 
....................     
....................    triskenhBp = 1; 
00E8:  BSF    F94.7
....................    IF (kenhBp == 0) endatat++; else endatatn++; 
00EA:  BTFSC  F82.7
00EC:  BRA    00F6
00EE:  INCF   1D,F
00F0:  BTFSC  FD8.2
00F2:  INCF   1E,F
00F4:  BRA    00FC
00F6:  INCF   1F,F
00F8:  BTFSC  FD8.2
00FA:  INCF   20,F
.................... } 
....................  
.................... ////////////////////////////////////////////////// 
00FC:  BCF    FF0.1
00FE:  GOTO   006C
.................... void setint() 
.................... { 
....................    enable_interrupts (global); 
*
038C:  MOVLW  C0
038E:  IORWF  FF2,F
....................    enable_interrupts (INT_ext1_h2l); 
0390:  BSF    FF0.3
0392:  BCF    FF1.5
....................    enable_interrupts (INT_ext2_h2l); 
0394:  BSF    FF0.4
0396:  BCF    FF1.4
.................... } 
0398:  GOTO   0B36 (RETURN)
....................  
.................... /////////////////////////////////////////////// 
.................... #bit trisDin = trisb.0 
.................... #bit trisDout = trisb.1 
.................... #bit trisCLK = trisb.2 
.................... #bit trisCS = trisb.3 
.................... #bit Din = PORTb.0// dy 1 mu nu (chan DI) 
.................... #bit Dout = PORTb.1 // dy 2 mu cam (chan DO) 
.................... #bit CLK = PORTb.2// dy 7 xanh da tr?i (chan CLK) 
.................... #bit CS = PORTb.3 // dy 6 mu vng (chan CS) 
....................  
.................... unsigned CHAR rbyte,analog,pes4,pes5,adcrlp,adcudp,adcrlt,adcudt; 
.................... unsigned CHAR select,start,len,xuong,trai,phai,trai0,phai0,trai1,phai1,trai2,phai2,nut1,nut2,nut3,nut4; 
....................  
.................... void access(UNSIGNED char wbyte) 
.................... { 
039C:  CLRF   3A
....................    UNSIGNED char j = 0; 
....................    rbyte = 0; 
039E:  CLRF   21
....................    CLK = 1; 
03A0:  BSF    F81.2
....................    FOR (j = 0; j < 8; j++) 
03A2:  CLRF   3A
03A4:  MOVF   3A,W
03A6:  SUBLW  07
03A8:  BNC   0432
....................    { 
....................       IF (bit_test (wbyte, j) == 1) Dout = 1; else Dout = 0; 
03AA:  MOVFF  39,00
03AE:  MOVF   3A,W
03B0:  MOVWF  01
03B2:  BZ    03BC
03B4:  BCF    FD8.0
03B6:  RRCF   00,F
03B8:  DECFSZ 01,F
03BA:  BRA    03B4
03BC:  BTFSS  00.0
03BE:  BRA    03C4
03C0:  BSF    F81.1
03C2:  BRA    03C6
03C4:  BCF    F81.1
....................       delay_us (10); 
03C6:  MOVLW  10
03C8:  MOVWF  00
03CA:  DECFSZ 00,F
03CC:  BRA    03CA
03CE:  NOP   
....................       CLK = 0; 
03D0:  BCF    F81.2
....................       delay_us (10); 
03D2:  MOVLW  10
03D4:  MOVWF  00
03D6:  DECFSZ 00,F
03D8:  BRA    03D6
03DA:  NOP   
....................  
....................       IF (Din == 1) 
03DC:  BTFSS  F81.0
03DE:  BRA    042C
....................       { 
....................          IF (j == 0) rbyte = 1; 
03E0:  MOVF   3A,F
03E2:  BNZ   03E8
03E4:  MOVLW  01
03E6:  MOVWF  21
....................          IF (j == 1) rbyte = rbyte + 2; 
03E8:  DECFSZ 3A,W
03EA:  BRA    03F0
03EC:  MOVLW  02
03EE:  ADDWF  21,F
....................          IF (j == 2) rbyte = rbyte + 4; 
03F0:  MOVF   3A,W
03F2:  SUBLW  02
03F4:  BNZ   03FA
03F6:  MOVLW  04
03F8:  ADDWF  21,F
....................          IF (j == 3) rbyte = rbyte + 8; 
03FA:  MOVF   3A,W
03FC:  SUBLW  03
03FE:  BNZ   0404
0400:  MOVLW  08
0402:  ADDWF  21,F
....................          IF (j == 4) rbyte = rbyte + 16; 
0404:  MOVF   3A,W
0406:  SUBLW  04
0408:  BNZ   040E
040A:  MOVLW  10
040C:  ADDWF  21,F
....................          IF (j == 5) rbyte = rbyte + 32; 
040E:  MOVF   3A,W
0410:  SUBLW  05
0412:  BNZ   0418
0414:  MOVLW  20
0416:  ADDWF  21,F
....................          IF (j == 6) rbyte = rbyte + 64; 
0418:  MOVF   3A,W
041A:  SUBLW  06
041C:  BNZ   0422
041E:  MOVLW  40
0420:  ADDWF  21,F
....................          IF (j == 7) rbyte = rbyte + 128; 
0422:  MOVF   3A,W
0424:  SUBLW  07
0426:  BNZ   042C
0428:  MOVLW  80
042A:  ADDWF  21,F
....................       } 
....................  
....................       CLK = 1; 
042C:  BSF    F81.2
....................    } 
042E:  INCF   3A,F
0430:  BRA    03A4
.................... } 
0432:  RETLW  00
....................  
.................... void doctayPES() 
.................... { 
....................    Din = Dout = CLK = CS = 1; 
0434:  BSF    F81.3
0436:  BSF    F81.2
0438:  BSF    F81.1
043A:  BSF    F81.0
....................    trisDin = 1; 
043C:  BSF    F93.0
....................    trisDout = trisCLK = trisCS = 0; 
043E:  BCF    F93.3
0440:  BCF    F93.2
0442:  BCF    F93.1
....................    cs = 0; 
0444:  BCF    F81.3
....................    access (0x01); 
0446:  MOVLW  01
0448:  MOVWF  39
044A:  RCALL  039C
....................    access (0x42); 
044C:  MOVLW  42
044E:  MOVWF  39
0450:  RCALL  039C
....................    analog = rbyte; 
0452:  MOVFF  21,22
....................    access (0x00); 
0456:  CLRF   39
0458:  RCALL  039C
....................    access (0x00); 
045A:  CLRF   39
045C:  RCALL  039C
....................    pes4 = rbyte; 
045E:  MOVFF  21,23
....................    access (0x00); 
0462:  CLRF   39
0464:  RCALL  039C
....................    pes5 = rbyte; 
0466:  MOVFF  21,24
....................    access (0x00); 
046A:  CLRF   39
046C:  RCALL  039C
....................    adcrlp = rbyte; 
046E:  MOVFF  21,25
....................    access (0x00); 
0472:  CLRF   39
0474:  RCALL  039C
....................    adcudp = rbyte; 
0476:  MOVFF  21,26
....................    access (0x00); 
047A:  CLRF   39
047C:  RCALL  039C
....................    adcrlt = rbyte; 
047E:  MOVFF  21,27
....................    access (0x00); 
0482:  CLRF   39
0484:  RCALL  039C
....................    adcudt = rbyte; 
0486:  MOVFF  21,28
....................    cs = 1; 
048A:  BSF    F81.3
....................    select = pes4&0x01; 
048C:  MOVF   23,W
048E:  ANDLW  01
0490:  MOVWF  29
....................    trai0 = (pes4&0x02) / 2; 
0492:  MOVF   23,W
0494:  ANDLW  02
0496:  MOVWF  00
0498:  BCF    FD8.0
049A:  RRCF   00,W
049C:  MOVWF  2F
....................    phai0 = (pes4&0x04) / 4; 
049E:  MOVF   23,W
04A0:  ANDLW  04
04A2:  MOVWF  00
04A4:  RRCF   00,W
04A6:  MOVWF  30
04A8:  RRCF   30,F
04AA:  MOVLW  3F
04AC:  ANDWF  30,F
....................    start = (pes4&0x08) / 8; 
04AE:  MOVF   23,W
04B0:  ANDLW  08
04B2:  MOVWF  00
04B4:  RRCF   00,W
04B6:  MOVWF  2A
04B8:  RRCF   2A,F
04BA:  RRCF   2A,F
04BC:  MOVLW  1F
04BE:  ANDWF  2A,F
....................    len = (pes4&0x10) / 16; 
04C0:  MOVF   23,W
04C2:  ANDLW  10
04C4:  MOVWF  00
04C6:  SWAPF  00,W
04C8:  MOVWF  2B
04CA:  MOVLW  0F
04CC:  ANDWF  2B,F
....................    phai = (pes4&0x20) / 32; 
04CE:  MOVF   23,W
04D0:  ANDLW  20
04D2:  MOVWF  00
04D4:  SWAPF  00,W
04D6:  MOVWF  2E
04D8:  RRCF   2E,F
04DA:  MOVLW  07
04DC:  ANDWF  2E,F
....................    xuong = (pes4&0x40) / 64; 
04DE:  MOVF   23,W
04E0:  ANDLW  40
04E2:  MOVWF  00
04E4:  SWAPF  00,W
04E6:  MOVWF  2C
04E8:  RRCF   2C,F
04EA:  RRCF   2C,F
04EC:  MOVLW  03
04EE:  ANDWF  2C,F
....................    trai = (pes4&0x80) / 128; 
04F0:  MOVF   23,W
04F2:  ANDLW  80
04F4:  CLRF   2D
04F6:  BTFSC  FE8.7
04F8:  BSF    2D.0
....................    trai2 = (pes5&0x01); 
04FA:  MOVF   24,W
04FC:  ANDLW  01
04FE:  MOVWF  33
....................    phai2 = (pes5&0x02) / 2; 
0500:  MOVF   24,W
0502:  ANDLW  02
0504:  MOVWF  00
0506:  BCF    FD8.0
0508:  RRCF   00,W
050A:  MOVWF  34
....................    trai1 = (pes5&0x04) / 4; 
050C:  MOVF   24,W
050E:  ANDLW  04
0510:  MOVWF  00
0512:  RRCF   00,W
0514:  MOVWF  31
0516:  RRCF   31,F
0518:  MOVLW  3F
051A:  ANDWF  31,F
....................    phai1 = (pes5&0x08) / 8; 
051C:  MOVF   24,W
051E:  ANDLW  08
0520:  MOVWF  00
0522:  RRCF   00,W
0524:  MOVWF  32
0526:  RRCF   32,F
0528:  RRCF   32,F
052A:  MOVLW  1F
052C:  ANDWF  32,F
....................    nut1 = (pes5&0x10) / 16; 
052E:  MOVF   24,W
0530:  ANDLW  10
0532:  MOVWF  00
0534:  SWAPF  00,W
0536:  MOVWF  35
0538:  MOVLW  0F
053A:  ANDWF  35,F
....................    nut2 = (pes5&0x20) / 32; 
053C:  MOVF   24,W
053E:  ANDLW  20
0540:  MOVWF  00
0542:  SWAPF  00,W
0544:  MOVWF  36
0546:  RRCF   36,F
0548:  MOVLW  07
054A:  ANDWF  36,F
....................    nut3 = (pes5&0x40) / 64; 
054C:  MOVF   24,W
054E:  ANDLW  40
0550:  MOVWF  00
0552:  SWAPF  00,W
0554:  MOVWF  37
0556:  RRCF   37,F
0558:  RRCF   37,F
055A:  MOVLW  03
055C:  ANDWF  37,F
....................    nut4 = (pes5&0x80) / 128; 
055E:  MOVF   24,W
0560:  ANDLW  80
0562:  CLRF   38
0564:  BTFSC  FE8.7
0566:  BSF    38.0
.................... } 
0568:  RETLW  00
....................  
.................... /////////////////////////////////////////////// 
.................... #bit vant=porta.2 
.................... #bit vanp=porta.3 
.................... #bit van3=porta.1 
.................... #bit van4=porta.0 
.................... #bit trisvant=trisa.2 
.................... #bit trisvanp=trisa.3 
.................... #bit trisvan3=trisa.1 
.................... #bit trisvan4=trisa.0 
.................... #bit br1=porta.4 
.................... #bit br2=porta.5 
.................... #bit trisbr1 = trisa.4 
.................... #bit trisbr2 = trisa.5 
.................... #bit dir1=portc.3 
.................... #bit dir2=portc.0 
.................... #bit trisdir1 = trisc.3 
.................... #bit trisdir2 = trisc.0 
.................... #bit pwm1=portc.2 
.................... #bit pwm2=portc.1 
.................... #bit trispwm1 = trisc.2 
.................... #bit trispwm2 = trisc.1 
....................  
.................... void dcpt(INT16 x) 
.................... { 
....................    trispwm1 = trisdir1 = trisbr1 = 0; 
*
0676:  BCF    F92.4
0678:  BCF    F94.3
067A:  BCF    F94.2
....................    dir1 = 1; 
067C:  BSF    F82.3
....................    br1 = 0; 
067E:  BCF    F80.4
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
0680:  MOVLW  00
0682:  IORLW  05
0684:  MOVWF  FCA
0686:  MOVLW  FF
0688:  MOVWF  FCB
....................    setup_ccp1 (ccp_pwm); 
068A:  BCF    F94.2
068C:  BCF    F8B.2
068E:  MOVLW  0C
0690:  MOVWF  FBD
....................    set_pwm1_duty (x); 
0692:  MOVFF  3A,02
0696:  MOVFF  39,01
069A:  RRCF   02,F
069C:  RRCF   01,F
069E:  RRCF   02,F
06A0:  RRCF   01,F
06A2:  RRCF   02,F
06A4:  MOVFF  01,FBE
06A8:  RRCF   02,F
06AA:  RRCF   02,W
06AC:  ANDLW  30
06AE:  MOVWF  00
06B0:  MOVF   FBD,W
06B2:  ANDLW  CF
06B4:  IORWF  00,W
06B6:  MOVWF  FBD
.................... } 
06B8:  RETLW  00
....................  
.................... void dcpn(INT16 x) 
.................... { 
....................    trispwm1 = trisdir1 = trisbr1 = 0; 
*
056A:  BCF    F92.4
056C:  BCF    F94.3
056E:  BCF    F94.2
....................    dir1 = 0; 
0570:  BCF    F82.3
....................    br1 = 0; 
0572:  BCF    F80.4
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
0574:  MOVLW  00
0576:  IORLW  05
0578:  MOVWF  FCA
057A:  MOVLW  FF
057C:  MOVWF  FCB
....................    setup_ccp1 (ccp_pwm); 
057E:  BCF    F94.2
0580:  BCF    F8B.2
0582:  MOVLW  0C
0584:  MOVWF  FBD
....................    set_pwm1_duty (x); 
0586:  MOVFF  3A,02
058A:  MOVFF  39,01
058E:  RRCF   02,F
0590:  RRCF   01,F
0592:  RRCF   02,F
0594:  RRCF   01,F
0596:  RRCF   02,F
0598:  MOVFF  01,FBE
059C:  RRCF   02,F
059E:  RRCF   02,W
05A0:  ANDLW  30
05A2:  MOVWF  00
05A4:  MOVF   FBD,W
05A6:  ANDLW  CF
05A8:  IORWF  00,W
05AA:  MOVWF  FBD
.................... } 
05AC:  RETLW  00
....................  
.................... void resetdcp() 
.................... { 
....................    trispwm1 = trisdir1 = trisbr1 = 0; 
05AE:  BCF    F92.4
05B0:  BCF    F94.3
05B2:  BCF    F94.2
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
05B4:  MOVLW  00
05B6:  IORLW  05
05B8:  MOVWF  FCA
05BA:  MOVLW  FF
05BC:  MOVWF  FCB
....................    setup_ccp1 (ccp_pwm); 
05BE:  BCF    F94.2
05C0:  BCF    F8B.2
05C2:  MOVLW  0C
05C4:  MOVWF  FBD
....................    set_pwm1_duty (0); 
05C6:  CLRF   FBE
....................    br1 = 1; 
05C8:  BSF    F80.4
....................    dir1 = 0; 
05CA:  BCF    F82.3
.................... } 
05CC:  RETLW  00
....................  
.................... void dctt(SIGNED INT16 x) 
.................... { 
....................    trispwm2 = trisdir2 = trisbr2 = 0; 
05CE:  BCF    F92.5
05D0:  BCF    F94.0
05D2:  BCF    F94.1
....................    dir2 = 1; 
05D4:  BSF    F82.0
....................    br2 = 0; 
05D6:  BCF    F80.5
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
05D8:  MOVLW  00
05DA:  IORLW  05
05DC:  MOVWF  FCA
05DE:  MOVLW  FF
05E0:  MOVWF  FCB
....................    setup_ccp2 (ccp_pwm); 
05E2:  BCF    F94.1
05E4:  BCF    F8B.1
05E6:  MOVLW  0C
05E8:  MOVWF  FBA
....................    set_pwm2_duty (x); 
05EA:  MOVFF  3A,02
05EE:  MOVFF  39,01
05F2:  RRCF   02,F
05F4:  RRCF   01,F
05F6:  RRCF   02,F
05F8:  RRCF   01,F
05FA:  RRCF   02,F
05FC:  MOVFF  01,FBB
0600:  RRCF   02,F
0602:  RRCF   02,W
0604:  ANDLW  30
0606:  MOVWF  00
0608:  MOVF   FBA,W
060A:  ANDLW  CF
060C:  IORWF  00,W
060E:  MOVWF  FBA
.................... } 
0610:  RETLW  00
....................  
.................... void dctn(SIGNED INT16 x) 
.................... { 
....................    trispwm2 = trisdir2 = trisbr2 = 0; 
*
0632:  BCF    F92.5
0634:  BCF    F94.0
0636:  BCF    F94.1
....................    br2 = 0; 
0638:  BCF    F80.5
....................    dir2 = 0; 
063A:  BCF    F82.0
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
063C:  MOVLW  00
063E:  IORLW  05
0640:  MOVWF  FCA
0642:  MOVLW  FF
0644:  MOVWF  FCB
....................    setup_ccp2 (ccp_pwm); 
0646:  BCF    F94.1
0648:  BCF    F8B.1
064A:  MOVLW  0C
064C:  MOVWF  FBA
....................    set_pwm2_duty (x); 
064E:  MOVFF  3A,02
0652:  MOVFF  39,01
0656:  RRCF   02,F
0658:  RRCF   01,F
065A:  RRCF   02,F
065C:  RRCF   01,F
065E:  RRCF   02,F
0660:  MOVFF  01,FBB
0664:  RRCF   02,F
0666:  RRCF   02,W
0668:  ANDLW  30
066A:  MOVWF  00
066C:  MOVF   FBA,W
066E:  ANDLW  CF
0670:  IORWF  00,W
0672:  MOVWF  FBA
.................... } 
0674:  RETLW  00
....................  
.................... void resetdct() 
.................... { 
....................    trispwm2 = trisdir2 = trisbr2 = 0; 
*
0612:  BCF    F92.5
0614:  BCF    F94.0
0616:  BCF    F94.1
....................    br2 = 1; 
0618:  BSF    F80.5
....................    dir2 = 0; 
061A:  BCF    F82.0
....................    setup_timer_2 (t2_div_by_4, 255, 1); 
061C:  MOVLW  00
061E:  IORLW  05
0620:  MOVWF  FCA
0622:  MOVLW  FF
0624:  MOVWF  FCB
....................    setup_ccp2 (ccp_pwm); 
0626:  BCF    F94.1
0628:  BCF    F8B.1
062A:  MOVLW  0C
062C:  MOVWF  FBA
....................    set_pwm2_duty (0); 
062E:  CLRF   FBB
.................... } 
0630:  RETLW  00
....................  
.................... /////////////////////////////////////////// 
.................... #bit ctp=portd.6 
.................... #bit ctt=portd.7 
.................... #bit trisctp=trisd.6 
.................... #bit trisctt=trisd.7 
....................  
.................... #bit tayt=portd.5 
.................... #bit tayp=portd.4 
.................... #bit tristayt=trisd.5 
.................... #bit tristayp=trisd.4 
....................  
....................  
.................... ////////////////////////////////////////////// 
.................... void main() 
.................... { 
*
0AE8:  CLRF   FF8
0AEA:  BCF    FD0.7
0AEC:  BSF    07.7
0AEE:  CLRF   FEA
0AF0:  CLRF   FE9
0AF2:  CLRF   1A
0AF4:  CLRF   19
0AF6:  CLRF   1C
0AF8:  CLRF   1B
0AFA:  CLRF   1E
0AFC:  CLRF   1D
0AFE:  CLRF   20
0B00:  CLRF   1F
0B02:  BCF    FB9.0
0B04:  BCF    FC1.6
0B06:  BCF    FC1.7
0B08:  MOVLW  00
0B0A:  MOVWF  FB8
....................    lcd_init (); 
0B0C:  GOTO   028C
....................    lcd_putc ("Ready..."); 
0B10:  MOVLW  02
0B12:  MOVWF  FF6
0B14:  MOVLW  01
0B16:  MOVWF  FF7
0B18:  RCALL  036C
....................    delay_ms (500); 
0B1A:  MOVLW  02
0B1C:  MOVWF  39
0B1E:  MOVLW  FA
0B20:  MOVWF  58
0B22:  CALL   013C
0B26:  DECFSZ 39,F
0B28:  BRA    0B1E
....................    lcd_putc ('\f'); 
0B2A:  MOVLW  0C
0B2C:  MOVWF  57
0B2E:  CALL   031A
....................    PORT_B_PULLUPS (0xff); 
0B32:  BCF    FF1.7
....................    setint (); 
0B34:  BRA    038C
....................  
....................    WHILE (true) 
....................    { 
....................        
....................       start = 1; 
0B36:  MOVLW  01
0B38:  MOVWF  2A
....................       WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready1..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
0B3A:  DECFSZ 2A,W
0B3C:  BRA    0B62
0B3E:  RCALL  0434
0B40:  CLRF   58
0B42:  MOVLW  01
0B44:  MOVWF  59
0B46:  CALL   02F8
0B4A:  MOVLW  0C
0B4C:  MOVWF  FF6
0B4E:  MOVLW  01
0B50:  MOVWF  FF7
0B52:  RCALL  036C
0B54:  MOVF   29,F
0B56:  BNZ   0B60
0B58:  BCF    F92.3
0B5A:  BCF    F80.3
0B5C:  BCF    F92.2
0B5E:  BCF    F80.2
0B60:  BRA    0B3A
....................       lcd_putc ('\f'); 
0B62:  MOVLW  0C
0B64:  MOVWF  57
0B66:  CALL   031A
....................       if (start == 0){trisctp = 1; ctp = 1; WHILE (ctp == 1){dcpn (600); }; resetdcp () ; start = 1; delay_ms (500); }; 
0B6A:  MOVF   2A,F
0B6C:  BNZ   0B98
0B6E:  BSF    F95.6
0B70:  BSF    F83.6
0B72:  BTFSS  F83.6
0B74:  BRA    0B82
0B76:  MOVLW  02
0B78:  MOVWF  3A
0B7A:  MOVLW  58
0B7C:  MOVWF  39
0B7E:  RCALL  056A
0B80:  BRA    0B72
0B82:  RCALL  05AE
0B84:  MOVLW  01
0B86:  MOVWF  2A
0B88:  MOVLW  02
0B8A:  MOVWF  39
0B8C:  MOVLW  FA
0B8E:  MOVWF  58
0B90:  CALL   013C
0B94:  DECFSZ 39,F
0B96:  BRA    0B8C
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready2..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0B98:  MOVLW  04
0B9A:  MOVWF  39
0B9C:  MOVLW  FA
0B9E:  MOVWF  58
0BA0:  CALL   013C
0BA4:  DECFSZ 39,F
0BA6:  BRA    0B9C
....................       if (start == 0){trisctt = 1; ctt = 1; WHILE (ctt == 1) {dctt (600); }; resetdct(); start = 1; endatatn = 0; delay_ms (500) ; }; 
0BA8:  MOVF   2A,F
0BAA:  BNZ   0BDA
0BAC:  BSF    F95.7
0BAE:  BSF    F83.7
0BB0:  BTFSS  F83.7
0BB2:  BRA    0BC0
0BB4:  MOVLW  02
0BB6:  MOVWF  3A
0BB8:  MOVLW  58
0BBA:  MOVWF  39
0BBC:  RCALL  05CE
0BBE:  BRA    0BB0
0BC0:  RCALL  0612
0BC2:  MOVLW  01
0BC4:  MOVWF  2A
0BC6:  CLRF   20
0BC8:  CLRF   1F
0BCA:  MOVLW  02
0BCC:  MOVWF  39
0BCE:  MOVLW  FA
0BD0:  MOVWF  58
0BD2:  CALL   013C
0BD6:  DECFSZ 39,F
0BD8:  BRA    0BCE
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready3..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0BDA:  MOVLW  04
0BDC:  MOVWF  39
0BDE:  MOVLW  FA
0BE0:  MOVWF  58
0BE2:  CALL   013C
0BE6:  DECFSZ 39,F
0BE8:  BRA    0BDE
....................       if (start == 0){endatatn = 0; WHILE (endatatn <30) {dctn (600); }; resetdct (); start = 1; delay_ms (500); }; 
0BEA:  MOVF   2A,F
0BEC:  BNZ   0C22
0BEE:  CLRF   20
0BF0:  CLRF   1F
0BF2:  BTFSC  20.7
0BF4:  BRA    0C00
0BF6:  MOVF   20,F
0BF8:  BNZ   0C0C
0BFA:  MOVF   1F,W
0BFC:  SUBLW  1D
0BFE:  BNC   0C0C
0C00:  MOVLW  02
0C02:  MOVWF  3A
0C04:  MOVLW  58
0C06:  MOVWF  39
0C08:  RCALL  0632
0C0A:  BRA    0BF2
0C0C:  RCALL  0612
0C0E:  MOVLW  01
0C10:  MOVWF  2A
0C12:  MOVLW  02
0C14:  MOVWF  39
0C16:  MOVLW  FA
0C18:  MOVWF  58
0C1A:  CALL   013C
0C1E:  DECFSZ 39,F
0C20:  BRA    0C16
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready4..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0C22:  MOVLW  04
0C24:  MOVWF  39
0C26:  MOVLW  FA
0C28:  MOVWF  58
0C2A:  CALL   013C
0C2E:  DECFSZ 39,F
0C30:  BRA    0C26
....................       IF (start == 0){trisvant = 0; vant = 0; start = 1; delay_ms (500); }; //mo van trai 
0C32:  MOVF   2A,F
0C34:  BNZ   0C4E
0C36:  BCF    F92.2
0C38:  BCF    F80.2
0C3A:  MOVLW  01
0C3C:  MOVWF  2A
0C3E:  MOVLW  02
0C40:  MOVWF  39
0C42:  MOVLW  FA
0C44:  MOVWF  58
0C46:  CALL   013C
0C4A:  DECFSZ 39,F
0C4C:  BRA    0C42
....................       WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready5..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
0C4E:  DECFSZ 2A,W
0C50:  BRA    0C7A
0C52:  CALL   0434
0C56:  CLRF   58
0C58:  MOVLW  01
0C5A:  MOVWF  59
0C5C:  CALL   02F8
0C60:  MOVLW  18
0C62:  MOVWF  FF6
0C64:  MOVLW  01
0C66:  MOVWF  FF7
0C68:  CALL   036C
0C6C:  MOVF   29,F
0C6E:  BNZ   0C78
0C70:  BCF    F92.3
0C72:  BCF    F80.3
0C74:  BCF    F92.2
0C76:  BCF    F80.2
0C78:  BRA    0C4E
....................       lcd_putc ('\f'); 
0C7A:  MOVLW  0C
0C7C:  MOVWF  57
0C7E:  CALL   031A
....................        
....................       IF (start == 0){trisvant = 0; vant = 1; start = 1; delay_ms (500); }; //dong van trai 
0C82:  MOVF   2A,F
0C84:  BNZ   0C9E
0C86:  BCF    F92.2
0C88:  BSF    F80.2
0C8A:  MOVLW  01
0C8C:  MOVWF  2A
0C8E:  MOVLW  02
0C90:  MOVWF  39
0C92:  MOVLW  FA
0C94:  MOVWF  58
0C96:  CALL   013C
0C9A:  DECFSZ 39,F
0C9C:  BRA    0C92
....................       WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready6..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
0C9E:  DECFSZ 2A,W
0CA0:  BRA    0CCA
0CA2:  CALL   0434
0CA6:  CLRF   58
0CA8:  MOVLW  01
0CAA:  MOVWF  59
0CAC:  CALL   02F8
0CB0:  MOVLW  24
0CB2:  MOVWF  FF6
0CB4:  MOVLW  01
0CB6:  MOVWF  FF7
0CB8:  CALL   036C
0CBC:  MOVF   29,F
0CBE:  BNZ   0CC8
0CC0:  BCF    F92.3
0CC2:  BCF    F80.3
0CC4:  BCF    F92.2
0CC6:  BCF    F80.2
0CC8:  BRA    0C9E
....................       lcd_putc ('\f'); 
0CCA:  MOVLW  0C
0CCC:  MOVWF  57
0CCE:  CALL   031A
....................       IF (start == 0){trisvanp = 0; vanp = 0; start = 1; delay_ms (500); }; //mo van phai 
0CD2:  MOVF   2A,F
0CD4:  BNZ   0CEE
0CD6:  BCF    F92.3
0CD8:  BCF    F80.3
0CDA:  MOVLW  01
0CDC:  MOVWF  2A
0CDE:  MOVLW  02
0CE0:  MOVWF  39
0CE2:  MOVLW  FA
0CE4:  MOVWF  58
0CE6:  CALL   013C
0CEA:  DECFSZ 39,F
0CEC:  BRA    0CE2
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready7..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0CEE:  MOVLW  04
0CF0:  MOVWF  39
0CF2:  MOVLW  FA
0CF4:  MOVWF  58
0CF6:  CALL   013C
0CFA:  DECFSZ 39,F
0CFC:  BRA    0CF2
....................       IF (start == 0){ tristayp=1; tayp=1; endatat=0; while (tayp==1) {dctt(600); if (endatat>60) {resetdct(); while (true) {}; };}; resetdct(); start=1; trisvanp = 0; vanp = 1; start = 1; delay_ms (500); }; //dong van phai 
0CFE:  MOVF   2A,F
0D00:  BNZ   0D48
0D02:  BSF    F95.4
0D04:  BSF    F83.4
0D06:  CLRF   1E
0D08:  CLRF   1D
0D0A:  BTFSS  F83.4
0D0C:  BRA    0D2C
0D0E:  MOVLW  02
0D10:  MOVWF  3A
0D12:  MOVLW  58
0D14:  MOVWF  39
0D16:  RCALL  05CE
0D18:  BTFSC  1E.7
0D1A:  BRA    0D2A
0D1C:  MOVF   1E,F
0D1E:  BNZ   0D26
0D20:  MOVF   1D,W
0D22:  SUBLW  3C
0D24:  BC    0D2A
0D26:  RCALL  0612
0D28:  BRA    0D28
0D2A:  BRA    0D0A
0D2C:  RCALL  0612
0D2E:  MOVLW  01
0D30:  MOVWF  2A
0D32:  BCF    F92.3
0D34:  BSF    F80.3
0D36:  MOVWF  2A
0D38:  MOVLW  02
0D3A:  MOVWF  39
0D3C:  MOVLW  FA
0D3E:  MOVWF  58
0D40:  CALL   013C
0D44:  DECFSZ 39,F
0D46:  BRA    0D3C
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0,1); lcd_putc (" Ready8..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0D48:  MOVLW  04
0D4A:  MOVWF  39
0D4C:  MOVLW  FA
0D4E:  MOVWF  58
0D50:  CALL   013C
0D54:  DECFSZ 39,F
0D56:  BRA    0D4C
....................       IF (start == 0){trisvant = 0; vant = 0; start = 1; delay_ms (500); }; //mo van trai 
0D58:  MOVF   2A,F
0D5A:  BNZ   0D74
0D5C:  BCF    F92.2
0D5E:  BCF    F80.2
0D60:  MOVLW  01
0D62:  MOVWF  2A
0D64:  MOVLW  02
0D66:  MOVWF  39
0D68:  MOVLW  FA
0D6A:  MOVWF  58
0D6C:  CALL   013C
0D70:  DECFSZ 39,F
0D72:  BRA    0D68
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready9..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0D74:  MOVLW  04
0D76:  MOVWF  39
0D78:  MOVLW  FA
0D7A:  MOVWF  58
0D7C:  CALL   013C
0D80:  DECFSZ 39,F
0D82:  BRA    0D78
....................       IF (start == 0){ endatap=0; while (endatap<100) {dcpt(600); }; resetdcp(); start=1; delay_ms (500); }; 
0D84:  MOVF   2A,F
0D86:  BNZ   0DBC
0D88:  CLRF   1A
0D8A:  CLRF   19
0D8C:  BTFSC  1A.7
0D8E:  BRA    0D9A
0D90:  MOVF   1A,F
0D92:  BNZ   0DA6
0D94:  MOVF   19,W
0D96:  SUBLW  63
0D98:  BNC   0DA6
0D9A:  MOVLW  02
0D9C:  MOVWF  3A
0D9E:  MOVLW  58
0DA0:  MOVWF  39
0DA2:  RCALL  0676
0DA4:  BRA    0D8C
0DA6:  RCALL  05AE
0DA8:  MOVLW  01
0DAA:  MOVWF  2A
0DAC:  MOVLW  02
0DAE:  MOVWF  39
0DB0:  MOVLW  FA
0DB2:  MOVWF  58
0DB4:  CALL   013C
0DB8:  DECFSZ 39,F
0DBA:  BRA    0DB0
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready10..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0DBC:  MOVLW  04
0DBE:  MOVWF  39
0DC0:  MOVLW  FA
0DC2:  MOVWF  58
0DC4:  CALL   013C
0DC8:  DECFSZ 39,F
0DCA:  BRA    0DC0
....................       if (start ==0){ endatatn=0; while (endatatn<180){dctn(600); }; resetdct(); start=1; delay_ms(500); } 
0DCC:  MOVF   2A,F
0DCE:  BNZ   0E04
0DD0:  CLRF   20
0DD2:  CLRF   1F
0DD4:  BTFSC  20.7
0DD6:  BRA    0DE2
0DD8:  MOVF   20,F
0DDA:  BNZ   0DEE
0DDC:  MOVF   1F,W
0DDE:  SUBLW  B3
0DE0:  BNC   0DEE
0DE2:  MOVLW  02
0DE4:  MOVWF  3A
0DE6:  MOVLW  58
0DE8:  MOVWF  39
0DEA:  RCALL  0632
0DEC:  BRA    0DD4
0DEE:  RCALL  0612
0DF0:  MOVLW  01
0DF2:  MOVWF  2A
0DF4:  MOVLW  02
0DF6:  MOVWF  39
0DF8:  MOVLW  FA
0DFA:  MOVWF  58
0DFC:  CALL   013C
0E00:  DECFSZ 39,F
0E02:  BRA    0DF8
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready11..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0E04:  MOVLW  04
0E06:  MOVWF  39
0E08:  MOVLW  FA
0E0A:  MOVWF  58
0E0C:  CALL   013C
0E10:  DECFSZ 39,F
0E12:  BRA    0E08
....................       IF (start == 0){ tristayt=1; tayt=1; endatap=0; while (tayt==1) {dcpt(600); if (endatap>100) {resetdcp(); while (true) {}; };}; resetdcp(); start=1; trisvant = 0; vant = 1; delay_ms (500); };  
0E14:  MOVF   2A,F
0E16:  BNZ   0E60
0E18:  BSF    F95.5
0E1A:  BSF    F83.5
0E1C:  CLRF   1A
0E1E:  CLRF   19
0E20:  BTFSS  F83.5
0E22:  BRA    0E44
0E24:  MOVLW  02
0E26:  MOVWF  3A
0E28:  MOVLW  58
0E2A:  MOVWF  39
0E2C:  RCALL  0676
0E2E:  BTFSC  1A.7
0E30:  BRA    0E42
0E32:  MOVF   1A,F
0E34:  BNZ   0E3C
0E36:  MOVF   19,W
0E38:  SUBLW  64
0E3A:  BC    0E42
0E3C:  CALL   05AE
0E40:  BRA    0E40
0E42:  BRA    0E20
0E44:  CALL   05AE
0E48:  MOVLW  01
0E4A:  MOVWF  2A
0E4C:  BCF    F92.2
0E4E:  BSF    F80.2
0E50:  MOVLW  02
0E52:  MOVWF  39
0E54:  MOVLW  FA
0E56:  MOVWF  58
0E58:  CALL   013C
0E5C:  DECFSZ 39,F
0E5E:  BRA    0E54
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0,1); lcd_putc (" Ready12..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0E60:  MOVLW  04
0E62:  MOVWF  39
0E64:  MOVLW  FA
0E66:  MOVWF  58
0E68:  CALL   013C
0E6C:  DECFSZ 39,F
0E6E:  BRA    0E64
....................       IF (start == 0){trisvanp = 0; vanp = 0; start = 1; delay_ms (500); }; //mo van phai 
0E70:  MOVF   2A,F
0E72:  BNZ   0E8C
0E74:  BCF    F92.3
0E76:  BCF    F80.3
0E78:  MOVLW  01
0E7A:  MOVWF  2A
0E7C:  MOVLW  02
0E7E:  MOVWF  39
0E80:  MOVLW  FA
0E82:  MOVWF  58
0E84:  CALL   013C
0E88:  DECFSZ 39,F
0E8A:  BRA    0E80
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0,1); lcd_putc (" Ready13..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0E8C:  MOVLW  04
0E8E:  MOVWF  39
0E90:  MOVLW  FA
0E92:  MOVWF  58
0E94:  CALL   013C
0E98:  DECFSZ 39,F
0E9A:  BRA    0E90
....................       IF (start == 0){ endatat=0; while(endatat<100) {dctt(600); lcd_putnum(endatat,0,0); };resetdct(); start=1; delay_ms(500);} 
0E9C:  MOVF   2A,F
0E9E:  BNZ   0EEA
0EA0:  CLRF   1E
0EA2:  CLRF   1D
0EA4:  BTFSC  1E.7
0EA6:  BRA    0EB2
0EA8:  MOVF   1E,F
0EAA:  BNZ   0ED2
0EAC:  MOVF   1D,W
0EAE:  SUBLW  63
0EB0:  BNC   0ED2
0EB2:  MOVLW  02
0EB4:  MOVWF  3A
0EB6:  MOVLW  58
0EB8:  MOVWF  39
0EBA:  CALL   05CE
0EBE:  CLRF   3C
0EC0:  CLRF   3B
0EC2:  MOVFF  1E,3A
0EC6:  MOVFF  1D,39
0ECA:  CLRF   3D
0ECC:  CLRF   3E
0ECE:  BRA    079C
0ED0:  BRA    0EA4
0ED2:  CALL   0612
0ED6:  MOVLW  01
0ED8:  MOVWF  2A
0EDA:  MOVLW  02
0EDC:  MOVWF  39
0EDE:  MOVLW  FA
0EE0:  MOVWF  58
0EE2:  CALL   013C
0EE6:  DECFSZ 39,F
0EE8:  BRA    0EDE
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0,1); lcd_putc (" Ready14..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0EEA:  MOVLW  04
0EEC:  MOVWF  39
0EEE:  MOVLW  FA
0EF0:  MOVWF  58
0EF2:  CALL   013C
0EF6:  DECFSZ 39,F
0EF8:  BRA    0EEE
....................       if (start == 0){trisctp = 1; ctp = 1; WHILE (ctp == 1){dcpn (600); }; resetdcp () ; start = 1; delay_ms (500); }; 
0EFA:  MOVF   2A,F
0EFC:  BNZ   0F2C
0EFE:  BSF    F95.6
0F00:  BSF    F83.6
0F02:  BTFSS  F83.6
0F04:  BRA    0F14
0F06:  MOVLW  02
0F08:  MOVWF  3A
0F0A:  MOVLW  58
0F0C:  MOVWF  39
0F0E:  CALL   056A
0F12:  BRA    0F02
0F14:  CALL   05AE
0F18:  MOVLW  01
0F1A:  MOVWF  2A
0F1C:  MOVLW  02
0F1E:  MOVWF  39
0F20:  MOVLW  FA
0F22:  MOVWF  58
0F24:  CALL   013C
0F28:  DECFSZ 39,F
0F2A:  BRA    0F20
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready15..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000);  
0F2C:  MOVLW  04
0F2E:  MOVWF  39
0F30:  MOVLW  FA
0F32:  MOVWF  58
0F34:  CALL   013C
0F38:  DECFSZ 39,F
0F3A:  BRA    0F30
....................       IF (start == 0){ tristayp=1; tayp=1; endatat=0; while (tayp==1) {dctt(600); if (endatat>100) {resetdct(); while (true) {}; };}; resetdct(); start=1; trisvanp = 0; vanp = 1; delay_ms (500); }; 
0F3C:  MOVF   2A,F
0F3E:  BNZ   0F8A
0F40:  BSF    F95.4
0F42:  BSF    F83.4
0F44:  CLRF   1E
0F46:  CLRF   1D
0F48:  BTFSS  F83.4
0F4A:  BRA    0F6E
0F4C:  MOVLW  02
0F4E:  MOVWF  3A
0F50:  MOVLW  58
0F52:  MOVWF  39
0F54:  CALL   05CE
0F58:  BTFSC  1E.7
0F5A:  BRA    0F6C
0F5C:  MOVF   1E,F
0F5E:  BNZ   0F66
0F60:  MOVF   1D,W
0F62:  SUBLW  64
0F64:  BC    0F6C
0F66:  CALL   0612
0F6A:  BRA    0F6A
0F6C:  BRA    0F48
0F6E:  CALL   0612
0F72:  MOVLW  01
0F74:  MOVWF  2A
0F76:  BCF    F92.3
0F78:  BSF    F80.3
0F7A:  MOVLW  02
0F7C:  MOVWF  39
0F7E:  MOVLW  FA
0F80:  MOVWF  58
0F82:  CALL   013C
0F86:  DECFSZ 39,F
0F88:  BRA    0F7E
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0,1); lcd_putc (" Ready16..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0F8A:  MOVLW  04
0F8C:  MOVWF  39
0F8E:  MOVLW  FA
0F90:  MOVWF  58
0F92:  CALL   013C
0F96:  DECFSZ 39,F
0F98:  BRA    0F8E
....................       IF (start == 0){trisvant = 0; vant = 0; start = 1; delay_ms (500); }; //mo van trai 
0F9A:  MOVF   2A,F
0F9C:  BNZ   0FB6
0F9E:  BCF    F92.2
0FA0:  BCF    F80.2
0FA2:  MOVLW  01
0FA4:  MOVWF  2A
0FA6:  MOVLW  02
0FA8:  MOVWF  39
0FAA:  MOVLW  FA
0FAC:  MOVWF  58
0FAE:  CALL   013C
0FB2:  DECFSZ 39,F
0FB4:  BRA    0FAA
....................       //WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready17..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
....................       //lcd_putc ('\f'); 
....................       delay_ms(1000); 
0FB6:  MOVLW  04
0FB8:  MOVWF  39
0FBA:  MOVLW  FA
0FBC:  MOVWF  58
0FBE:  CALL   013C
0FC2:  DECFSZ 39,F
0FC4:  BRA    0FBA
....................       IF (start == 0){ endatap=0; while (endatap<20) {dcpt(600); }; resetdcp(); start=1; delay_ms (500); }; 
0FC6:  MOVF   2A,F
0FC8:  BNZ   1002
0FCA:  CLRF   1A
0FCC:  CLRF   19
0FCE:  BTFSC  1A.7
0FD0:  BRA    0FDC
0FD2:  MOVF   1A,F
0FD4:  BNZ   0FEA
0FD6:  MOVF   19,W
0FD8:  SUBLW  13
0FDA:  BNC   0FEA
0FDC:  MOVLW  02
0FDE:  MOVWF  3A
0FE0:  MOVLW  58
0FE2:  MOVWF  39
0FE4:  CALL   0676
0FE8:  BRA    0FCE
0FEA:  CALL   05AE
0FEE:  MOVLW  01
0FF0:  MOVWF  2A
0FF2:  MOVLW  02
0FF4:  MOVWF  39
0FF6:  MOVLW  FA
0FF8:  MOVWF  58
0FFA:  CALL   013C
0FFE:  DECFSZ 39,F
1000:  BRA    0FF6
....................       WHILE (start == 1){doctayPES (); lcd_gotoxy (0, 1); lcd_putc (" Ready18..."); if (select == 0) {trisvanp = 0; vanp = 0; trisvant = 0; vant = 0; } }; 
1002:  DECFSZ 2A,W
1004:  BRA    102E
1006:  CALL   0434
100A:  CLRF   58
100C:  MOVLW  01
100E:  MOVWF  59
1010:  CALL   02F8
1014:  MOVLW  30
1016:  MOVWF  FF6
1018:  MOVLW  01
101A:  MOVWF  FF7
101C:  CALL   036C
1020:  MOVF   29,F
1022:  BNZ   102C
1024:  BCF    F92.3
1026:  BCF    F80.3
1028:  BCF    F92.2
102A:  BCF    F80.2
102C:  BRA    1002
....................       lcd_putc ('\f'); 
102E:  MOVLW  0C
1030:  MOVWF  57
1032:  CALL   031A
....................        
....................       IF (start == 0){ WHILE (true) {} }; 
1036:  MOVF   2A,F
1038:  BTFSC  FD8.2
103A:  BRA    103A
....................    } 
103C:  BRA    0B36
.................... } 
....................  
103E:  SLEEP 

Configuration Fuses:
   Word  1: C200   HS FCMEN IESO
   Word  2: 3E0C   PUT NOBROWNOUT BORRES NOWDT WDT32768 NOWINEN
   Word  3: 9D3C   NOPWMPIN LPOL_HIGH HPOL_HIGH T1LOWPOWER FLTAC1 SSP_RC PWM4B5 EXCLKC3 MCLR
   Word  4: 0081   STVREN NOLVP NODEBUG
   Word  5: C000   PROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
